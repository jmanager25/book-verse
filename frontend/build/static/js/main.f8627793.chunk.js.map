{"version":3,"sources":["styles/Comment.module.css","styles/ProfilesPage.module.css","styles/Avatar.module.css","styles/Profile.module.css","styles/Button.module.css","App.module.css","assets/logo.png","api/axiosDefaults.js","utils/utils.js","context/currentUserContext.js","components/Avatar.js","context/AlertContext.js","hooks/useAlert.js","hooks/useBurgerMenu.js","components/NavBar.js","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/AlertPopup.js","pages/books/BookCreateForm.js","components/StarRating.js","components/MoreDropdown.js","components/DeleteConfirmationModal.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","pages/reviews/Review.js","pages/books/BooksDisplay.js","pages/books/BookPage.js","context/ProfileDataContext.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/books/Book.js","pages/books/BookEditForm.js","pages/reviews/ReviewCreateForm.js","pages/reviews/ReviewEditForm.js","pages/profiles/ProfilesPage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","errors/NotFound.js","App.js","reportWebVitals.js","index.js","styles/BookCreateEditForm.module.css","styles/Book.module.css","styles/ReviewCreateEditForm.module.css","styles/SignInUpForm.module.css","styles/BookPage.module.css","styles/NavBar.module.css","styles/CommentCreateEditForm.module.css","styles/Review.module.css","styles/MoreDropdown.module.css","styles/ErrorPages.module.css","styles/StarRating.module.css"],"names":["module","exports","axios","default","baseURL","defaults","headers","post","withCredentials","axiosReq","create","axiosRes","followHelper","profile","clickedProfile","following_id","id","_objectSpread","followers_count","is_owner","following_count","unfollowHelper","setTokenTimestamp","data","refreshTokenTimestamp","jwtDecode","refresh_token","exp","localStorage","setItem","removeTokenTimestamp","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","_useState","useState","_useState2","_slicedToArray","currentUser","setCurrentUser","history","useHistory","handleMount","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$axiosRes$get","wrap","_context","prev","next","get","sent","t0","stop","apply","arguments","useEffect","useMemo","interceptors","request","use","_ref3","_callee2","config","_context2","getItem","prevCurrentUser","push","abrupt","_x","err","Promise","reject","response","_ref4","_callee3","_err$response","_context3","status","_x2","_jsx","Provider","value","Avatar","src","_ref$height","height","text","_jsxs","className","styles","width","alt","AlertContext","type","setAlert","AlertProvider","setText","_useState3","_useState4","setType","setTimeout","useAlert","useBurgerMenu","expanded","setExpanded","ref","useRef","handleBurgerMenu","event","current","contains","target","document","addEventListener","removeEventListener","NavBar","_useBurgerMenu","handleSignOut","addBooks","NavLink","activeClassName","Active","to","loggedInIcons","_Fragment","concat","profile_id","profile_image","username","onClick","loggedOutIcons","Nav","Navbar","expand","fixed","Container","fluid","Brand","logo","Toggle","Collapse","exact","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","password1","password2","signUpData","setSignUpData","errors","setErrors","handleChange","_defineProperty","name","handleSubmit","preventDefault","Form","onSubmit","Group","controlId","Label","Control","placeholder","Input","onChange","map","message","idx","Alert","appstyles","variant","buttonstyles","CenterButton","Button","non_field_errors","Text","Link","SignInForm","password","signInData","setSignInData","_yield$axios$post","user","goBack","AlertPopup","_useAlert","severity","BookCreateForms","_errors$title","_errors$author","_errors$genre","_errors$description","_errors$coverImage","title","author","description","genre","coverImage","bookData","setBookData","imageInput","formData","_yield$axiosReq$post","_err$response2","FormData","append","files","FormLabel","FormControl","as","File","accept","length","URL","revokeObjectURL","createObjectURL","Danger","StarRating","stars","Array","fill","_","index","ratingValue","FaStar","Star","handleStarClick","color","ThreeDots","React","forwardRef","e","MoreDropdown","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","ProfileEditDropdown","Absolute","DeleteConfirmationModal","show","handleClose","handleConfirm","itemName","Modal","onHide","Header","closeButton","Title","Body","Footer","CommentCreateForm","props","review","setComments","profileImage","setReviews","content","setContent","_yield$axiosRes$post","prevComments","_toConsumableArray","prevReviews","prevReview","comments_count","InputGroup","rows","disabled","trim","CommentEditForm","setShowEditForm","reviewId","formContent","setFormContent","put","comment","updated_at","Comment","owner","showEditForm","delete","filter","Media","Owner","Date","Review","book","rating","review_text","like_id","likes_count","showDeleteModal","setShowDeleteModal","selectedReview","setSelectedReview","_useState5","_useState6","comments","_useState7","_useState8","isMounted","setIsMounted","handleLike","console","error","Card","RatingContainer","OverlayTrigger","placement","overlay","Tooltip","BooksDisplay","cover_image","BookContainer","Img","CardImage","Author","BookPage","useParams","setBook","setReview","relatedBooks","setRelatedBooks","fetchData","_yield$Promise$all","_yield$Promise$all2","bookResponse","reviewResponse","relatedBooksResponse","filteredRelatedBooks","all","relatedBook","handleSave","saved_id","prevBook","Row","Col","Image","Count","reviews_count","xs","md","BookInfo","average_rating","Carousel","indicators","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","pageProfile","results","popularProfiles","profileData","setProfileData","handleFollow","followed","prevState","handleUnfollow","_yield$axiosReq$get","Profile","_props$imageSize","imageSize","image","_useSetProfileData","WordBreak","buttonStyles","PopularProfiles","appStyles","Content","slice","Book","_ref$filter","books","setBooks","selectedBookId","setSelectedBookId","query","setQuery","pathname","useLocation","prevBooks","timer","clearTimeout","SearchIcon","SearchBar","lg","CardBody","Icons","BookEditForm","_errors$summary","_title","_author","_description","_genre","_coverImage","_imageInput$current","summary","ReviewCreateForm","_errors$review_text","_errors$rating","bookId","reviewData","setReviewData","TextArea","hidden","newRating","ReviewEditForm","_useParams","_review_text","_rating","ProfilesPage","profileReviews","setProfileReviews","profileBooks","setProfileBooks","_pageProfile","reviewsResponse","booksResponse","userInfo","ProfileImage","roundedCircle","books_count","biography","mainProfileReviews","mainProfileBooks","UsernameForm","setUsername","_currentUser$profile_","toString","prevUser","btnStyles","Blue","UserPasswordForm","_errors$new_password","_errors$new_password2","new_password1","new_password2","userData","setUserData","ProfileEditForm","_errors$content","_errors$image","imageFile","_name","_biography","_image","_imageFile$current","_imageFile$current2","_yield$axiosReq$put","textFields","NotFound","Emoji","App","Main","Switch","Route","path","render","BookCreateForm","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.f8627793.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__3sgYe\",\"Date\":\"Comment_Date__10qt0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ProfilesPage_Container__apZEr\",\"ProfileImage\":\"ProfilesPage_ProfileImage__2ndFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__196lW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"Profile_WordBreak__3_YmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__27i9m\",\"CenterButton\":\"Button_CenterButton__3iPlz\",\"Danger\":\"Button_Danger__LnRwy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"Main\":\"App_Main__HQkvd\",\"Search\":\"App_Search__3IPKu\",\"Alert\":\"App_Alert__3Zd3X\",\"Content\":\"App_Content__ZaMNr\"};","export default __webpack_public_path__ + \"static/media/logo.4cdc4e40.png\";","// IMPORTANT!!\n// Because this React app is running in the same workspace as the API,\n\n// there is no need to set a separate baseURL until you reach deployment.\n\n// Setting a baseURL before you reach deployment will cause errors\n\nimport axios from 'axios';\n\naxios.default.baseURL = '/api';\naxios.defaults.headers.post['Content-Type'] = 'multipart/form-data'\naxios.defaults.withCredentials = true;\n\nexport const axiosReq = axios.create();\nexport const axiosRes = axios.create();","import jwtDecode from \"jwt-decode\";\n\n\nexport const followHelper = (profile, clickedProfile, following_id) => {\n  return profile.id === clickedProfile.id\n    ? \n      {\n        ...profile,\n        followers_count: profile.followers_count + 1,\n        following_id,\n      }\n    : profile.is_owner\n    ? \n      { ...profile, following_count: profile.following_count + 1 }\n    : \n      profile;\n};\n\nexport const unfollowHelper = (profile, clickedProfile) => {\n    return profile.id === clickedProfile.id\n      ? \n        {\n          ...profile,\n          followers_count: profile.followers_count - 1,\n          following_id: null,\n        }\n      : profile.is_owner\n      ? \n        { ...profile, following_count: profile.following_count - 1 }\n      : \n        profile;\n  };\n\n  export const setTokenTimestamp = (data) => {\n    const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n    localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n  };\n  \n  export const shouldRefreshToken = () => {\n    return !!localStorage.getItem(\"refreshTokenTimestamp\");\n  };\n  \n  export const removeTokenTimestamp = () => {\n    localStorage.removeItem(\"refreshTokenTimestamp\");\n  };","import { createContext, useContext, useEffect, useState, useMemo } from \"react\";\nimport axios from \"axios\";\nimport { axiosRes, axiosReq } from \"../api/axiosDefaults\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport const CurrentUserProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const history = useHistory();\n\n  const handleMount = async () => {\n    try {\n      const {data} = await axiosRes.get(\"/api/dj-rest-auth/user/\")\n      setCurrentUser(data)\n    } catch(err){\n      //console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    handleMount()\n  }, []);\n\n\n  useMemo(() => {\n    axiosReq.interceptors.request.use(\n      async (config) => {\n        if (shouldRefreshToken()) {\n          try {\n            await axios.post('/api/dj-rest-auth/token/refresh/');\n          } catch (err) {\n            setCurrentUser((prevCurrentUser) => {\n              if (prevCurrentUser) {\n                history.push('/signin');\n              }\n              return null;\n            });\n            removeTokenTimestamp()\n            return config\n          }\n        }\n        return config;\n      },\n      (err) => {\n        return Promise.reject(err);\n      }\n    );\n\n    axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status ===401){\n          try{\n            await axios.post('/api/dj-rest-auth/token/refresh/');\n          } catch(err){\n            setCurrentUser(prevCurrentUser => {\n              if (prevCurrentUser){\n                history.push('/signin');\n              }\n              return null;\n            });\n            removeTokenTimestamp()\n          }\n          return axios(err.config);\n        }\n        return Promise.reject(err);\n      }\n    );\n  }, [history]);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  )\n};","import React from 'react';\nimport styles from '../styles/Avatar.module.css';\n\nconst Avatar = ({src, height= 45, text}) => {\n  return (\n    <span>\n        <img className={styles.Avatar} src={src} height={height} width={height} alt='avatar' />\n        {text}\n    </span>\n  )\n};\n\nexport default Avatar","import { createContext, useState } from 'react';\n\nconst ALERT_TIME = 5000;\nconst initialState = {\n  text: '',\n  type: '',\n};\n\nconst AlertContext = createContext({\n  ...initialState,\n  setAlert: () => {},\n});\n\nexport const AlertProvider = ({ children }) => {\n  const [text, setText] = useState('');\n  const [type, setType] = useState('');\n\n  const setAlert = (text, type) => {\n    setText(text);\n    setType(type);\n\n    setTimeout(() => {\n      setText('');\n      setType('');\n    }, ALERT_TIME);\n  };\n\n  return (\n    <AlertContext.Provider\n      value={{\n        text,\n        type,\n        setAlert,\n      }}\n    >\n      {children}\n    </AlertContext.Provider>\n  );\n};\n\nexport default AlertContext;","import { useContext } from 'react';\nimport AlertContext from '../context/AlertContext';\n\nconst useAlert = () => useContext(AlertContext);\n\nexport default useAlert;","import { useEffect, useRef, useState } from 'react';\n\nconst useBurgerMenu = () => {\n\n    const [expanded, setExpanded] = useState(false);\n    const ref = useRef(null);\n\n    useEffect(() => {\n        const handleBurgerMenu = (event) => {\n            if (ref.current && !ref.current.contains(event.target)) {\n                setExpanded(false);\n            }\n        };\n\n        document.addEventListener(\"mouseup\", handleBurgerMenu);\n        return () => {\n            document.removeEventListener(\"mouseup\", handleBurgerMenu);\n        };\n    }, [ref]);\n\n    return {expanded, setExpanded, ref};\n\n};\n\nexport default useBurgerMenu;","import React from 'react';\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport logo from '../assets/logo.png'\nimport styles from \"../styles/NavBar.module.css\"\nimport { NavLink } from \"react-router-dom\";\nimport { useCurrentUser, useSetCurrentUser } from '../context/currentUserContext';\nimport axios from 'axios';\nimport Avatar from './Avatar';\nimport useAlert from '../hooks/useAlert';\nimport useBurgerMenu from '../hooks/useBurgerMenu';\nimport { removeTokenTimestamp } from '../utils/utils';\n\n\nconst NavBar = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { setAlert } = useAlert();\n\n  const {expanded, setExpanded, ref} = useBurgerMenu();\n\n  const handleSignOut = async () => {\n    try {\n      await axios.post(\"/api/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n      setAlert('Logout success', 'success')\n    } catch (err) {\n      setAlert('Logout failed', 'error')\n      //console.log(err);\n    }\n  };\n\n  const addBooks = (\n    <NavLink \n      activeClassName={styles.Active} \n      to=\"/books/create\">\n      <i className=\"far fa-plus-square\"></i>Add Book\n    </NavLink>\n  )\n\n  const loggedInIcons = \n    <>\n      <NavLink \n        activeClassName={styles.Active} \n        to={`/profiles/${currentUser?.profile_id}`}><Avatar src={currentUser?.profile_image} \n        text={currentUser?.username}\n        height={40} />\n      </NavLink>\n      <NavLink to=\"/signin\" onClick={handleSignOut}><i className=\"fa-solid fa-right-from-bracket\"></i>Sign out</NavLink>\n    </>\n\n  const loggedOutIcons = (\n    <> \n      <Nav className=\"ml-auto\">\n        <NavLink activeClassName={styles.Active} to=\"/signin\"><i className=\"fa-solid fa-right-to-bracket\"></i>Sign in</NavLink>\n        <NavLink activeClassName={styles.Active} to=\"/signup\"><i className=\"fa-solid fa-user-plus\"></i>Sign up</NavLink>\n      </Nav>\n    </>\n  )\n  return (\n    <Navbar expanded={expanded} expand=\"md\" fixed=\"top\" className={styles.NavBar}>\n        <Container fluid>\n          <NavLink to=\"/\">\n            <Navbar.Brand>\n              <img src={logo} alt='logo' height='60' />\n            </Navbar.Brand>\n          </NavLink>\n          {currentUser && addBooks}\n          <Navbar.Toggle ref={ref} onClick={() => setExpanded(!expanded)} aria-controls=\"navbarScroll\" />\n          <Navbar.Collapse id=\"navbarScroll\">\n            <Nav className=\"mx-auto\">\n                <NavLink exact activeClassName={styles.Active} to=\"/\"><i className=\"fa-solid fa-house\"></i>Home</NavLink>\n                {currentUser ? (\n                  <>\n                    <NavLink activeClassName={styles.Active} to=\"/mybooks\"><i className=\"fa-solid fa-book\"></i>My Books</NavLink>\n                  </>\n                ) : null}\n            </Nav>\n            <Nav>\n              {currentUser ? loggedInIcons : loggedOutIcons}\n            </Nav>\n          </Navbar.Collapse>\n        </Container>\n      </Navbar>\n  )\n};\n\nexport default NavBar","import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useRedirect = (userAuthStatus) => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        await axios.post(\"/api/dj-rest-auth/token/refresh/\");\n        if (userAuthStatus === \"loggedIn\") {\n          history.push(\"/\");\n        }\n      } catch (err) {\n        if (userAuthStatus === \"loggedOut\") {\n          history.push(\"/\");\n        }\n      }\n    };\n    handleMount();\n  }, [history, userAuthStatus]);\n};","import React, {useState} from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport buttonstyles from \"../../styles/Button.module.css\";\nimport appstyles from \"../../App.module.css\"\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport axios from \"axios\";\nimport useAlert from '../../hooks/useAlert';\nimport { useRedirect } from '../../hooks/useRedirect';\n\n\nconst SignUpForm = () => {\n   useRedirect(\"loggedIn\")\n   const [signUpData, setSignUpData] = useState({\n    username: \"\",\n    password1: \"\",\n    password2: \"\",\n   });\n   const { username, password1, password2} = signUpData;\n   const [errors, setErrors] = useState({});\n   const history = useHistory();\n   const { setAlert } = useAlert();\n\n   const handleChange = (event) => {\n    setSignUpData({\n        ...signUpData,\n        [event.target.name]: event.target.value,\n    }) \n   };\n\n   const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axios.post('api/dj-rest-auth/registration/', signUpData);\n      history.push(\"/signin\");\n      setAlert('Account created successfully', 'success')\n    } catch (err) {\n      setErrors(err.response?.data);\n      setAlert('Account creation failed. Please try again', 'error');\n    }\n   };\n\n    return (\n        <Container className={styles.Container}>\n            <Form className={styles.Form} onSubmit={handleSubmit}>\n                <h2 className=\"mb-4 text-center\">Sign Up</h2>\n                <Form.Group controlId=\"username\">\n                    <Form.Label className=\"d-none\">Username</Form.Label>\n                    <Form.Control \n                    type=\"text\" \n                    placeholder=\"Username\" \n                    name=\"username\" \n                    className={styles.Input} \n                    value={username} \n                    onChange={handleChange} />\n                </Form.Group>\n                {errors.username?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <Form.Group controlId=\"password1\">\n                    <Form.Label className=\"d-none\">Password</Form.Label>\n                    <Form.Control \n                    type=\"password\" \n                    placeholder=\"Password\" \n                    name=\"password1\" \n                    className={styles.Input} \n                    value={password1} \n                    onChange={handleChange}/>\n                </Form.Group>\n                {errors.password1?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <Form.Group controlId=\"password2\">\n                    <Form.Label className=\"d-none\">Confirm Password</Form.Label>\n                    <Form.Control \n                    type=\"Password\" \n                    placeholder=\"Confirm Password\" \n                    name=\"password2\" \n                    className={styles.Input} \n                    value={password2} \n                    onChange={handleChange}/>\n                </Form.Group>\n                {errors.password2?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <div className={buttonstyles.CenterButton}>\n                    <Button type=\"submit\" className={buttonstyles.Button}>Sign Up</Button>\n                </div>\n                {errors.non_field_errors?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <p className={`${styles.Text} mt-3`}>Already have an account?<Link to=\"/signin\">login here</Link></p>\n            </Form>\n        </Container>\n    )\n}\n\nexport default SignUpForm","import React, {useState} from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport styles from \"../../styles/SignInUpForm.module.css\";\nimport buttonstyles from \"../../styles/Button.module.css\";\nimport appstyles from \"../../App.module.css\"\nimport { Container, Form, Button, Alert } from 'react-bootstrap';\nimport axios from \"axios\";\nimport { useSetCurrentUser } from '../../context/currentUserContext';\nimport useAlert from '../../hooks/useAlert';\nimport { useRedirect } from '../../hooks/useRedirect';\nimport { setTokenTimestamp } from '../../utils/utils';\n\n\nconst SignInForm = () => {\n   const setCurrentUser = useSetCurrentUser();\n   const { setAlert } = useAlert();\n   useRedirect(\"loggedIn\")\n    \n   const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n   });\n   const { username, password} = signInData;\n   const [errors, setErrors] = useState({});\n   const history = useHistory();\n\n   const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const {data} = await axios.post(\"/api/dj-rest-auth/login/\", signInData);\n      setCurrentUser(data.user)\n      setTokenTimestamp(data)\n      setAlert('login success', 'success')\n      history.goBack();\n    } catch (err) {\n      setErrors(err.response?.data);\n      setAlert('login failed', 'error');\n    }\n   };\n\n   const handleChange = (event) => {\n    setSignInData({\n        ...signInData,\n        [event.target.name]: event.target.value,\n    }) \n   };\n\n    return (\n        <Container className={styles.Container}>\n            <Form className={styles.Form} onSubmit={handleSubmit}>\n                <h2 className=\"mb-4 text-center\">Sign In</h2>\n                <Form.Group controlId=\"username\">\n                    <Form.Label className=\"d-none\">Username</Form.Label>\n                    <Form.Control \n                    type=\"text\" \n                    placeholder=\"Username\" \n                    name=\"username\" \n                    className={styles.Input} \n                    value={username} \n                    onChange={handleChange} />\n                </Form.Group>\n                {errors.username?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <Form.Group controlId=\"password\">\n                    <Form.Label className=\"d-none\">Password</Form.Label>\n                    <Form.Control \n                    type=\"password\" \n                    placeholder=\"Password\" \n                    name=\"password\" \n                    className={styles.Input} \n                    value={password} \n                    onChange={handleChange}/>\n                </Form.Group>\n                {errors.password?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <div className={buttonstyles.CenterButton}>\n                    <Button type=\"submit\" className={buttonstyles.Button}>Sign In</Button>\n                </div>\n                {errors.non_field_errors?.map((message, idx) =>\n                    <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n                )}\n                <p className={`${styles.Text} mt-3`}>Don't have an account?<Link to=\"/signup\">Register here</Link></p>\n            </Form>\n        </Container>\n    )\n\n};\n\nexport default SignInForm","import { Alert } from '@mui/material';\nimport useAlert from '../hooks/useAlert';\nimport appstyles from '../App.module.css'\n\nconst AlertPopup = () => {\n  const { text, type } = useAlert();\n\n  if (text && type) {\n    return (\n      <Alert\n        className={appstyles.Alert}\n        severity={type}\n      >\n        {text}\n      </Alert>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nexport default AlertPopup;","import React, { useRef, useState } from 'react';\nimport {Form, Button, Alert} from 'react-bootstrap';\nimport styles from '../../styles/BookCreateEditForm.module.css';\nimport buttonstyles from '../../styles/Button.module.css';\nimport appstyles from \"../../App.module.css\"\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport { axiosReq } from '../../api/axiosDefaults';\nimport useAlert from '../../hooks/useAlert';\nimport { useRedirect } from '../../hooks/useRedirect';\n\n\nfunction BookCreateForms() {\n    useRedirect(\"loggedOut\");\n    const [errors, setErrors] = useState({});\n\n    const [bookData, setBookData] = useState({\n        title: '',\n        author: '',\n        description: '',\n        genre: '',\n        coverImage: '',\n    });\n\n    const {title, author, description, genre, coverImage} = bookData;\n\n    const imageInput = useRef(null);\n    const history = useHistory();\n    const { setAlert } = useAlert();\n\n    const handleChange = (event) => {\n        setBookData({\n            ...bookData, \n            [event.target.name]: event.target.value,\n        });\n    };\n\n    const handleImageChange = (event) => {\n        if (event.target.files.length){\n            URL.revokeObjectURL(coverImage);\n            setBookData({\n                ...bookData,\n                coverImage: URL.createObjectURL(event.target.files[0]),\n            });\n        }\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const formData = new FormData();\n\n        formData.append('title', title);\n        formData.append('author', author);\n        formData.append('description', description);\n        formData.append('genre', genre);\n        formData.append('cover_image', imageInput.current.files[0]);\n\n        try {\n          const {data} = await axiosReq.post('/api/books/', formData);\n          history.push(`/books/${data.id}`)\n          setAlert('Book added successfully', 'success')\n        } catch(err){\n          //console.log(err)\n          if (err.response?.status !== 401){\n            setErrors(err.response?.data)\n            setAlert('Failed to add a book', 'error')\n          }  \n        }\n    }\n\n  return (\n    <Form className={styles.Form} onSubmit={handleSubmit}>\n        <Form.Group controlId='title'>\n            <Form.Label className={styles.FormLabel}>Title</Form.Label>\n            <Form.Control \n                className={styles.FormControl}\n                type='text'\n                name='title'\n                value={title}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.title?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='author'>\n            <Form.Label className={styles.FormLabel}>Author</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                type='text'\n                name='author'\n                value={author}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.author?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='genre'>\n            <Form.Label className={styles.FormLabel}>Genre</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                type='text'\n                name='genre'\n                value={genre}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.genre?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='description'>\n            <Form.Label className={styles.FormLabel}>Summary</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                as='textarea'\n                name='description'\n                value={description}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.description?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId=\"cover_image\">\n            <Form.Label className={styles.FormLabel}>Cover Image</Form.Label>\n            <Form.File\n                name=\"cover_image\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                ref={imageInput}\n            />\n        </Form.Group>\n        {errors?.coverImage?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <div className={buttonstyles.CenterButton}>\n            <Button className={buttonstyles.Danger} onClick={() => history.goBack()}>\n                Cancel\n            </Button>\n            <Button className={buttonstyles.Button} type='Submit'>\n                Submit\n            </Button>\n        </div>\n    </Form>\n  )\n}\n\nexport default BookCreateForms;","import React from 'react';\nimport {FaStar} from 'react-icons/fa';\nimport styles from '../styles/StarRating.module.css'\n\nconst StarRating = ({value, onChange}) => {\n  const stars = Array(5).fill(0);\n\n  const handleStarClick = (ratingValue) => {\n    if (onChange) {\n      onChange(ratingValue);\n    }\n  };\n\n  return (\n    <div className={styles.StarRating}>\n        {stars.map((_, index) => {\n            const ratingValue = index + 1\n            return (\n                <FaStar \n                  key={index} \n                  className={styles.Star}\n                  onClick={() => handleStarClick(ratingValue)}\n                  color={value >= ratingValue ? 'yellow' : 'grey'}\n                />)\n        })}\n    </div>\n  );\n}\n\nexport default StarRating;","import React from \"react\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport styles from \"../styles/MoreDropdown.module.css\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\n\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className=\"fas fa-ellipsis-v\"\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n  />\n));\n\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\n  return (\n    <Dropdown className={`ml-auto ${styles.Dropdown}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu\n        className=\"text-center\"\n        popperConfig={{ strategy: \"fixed\" }}\n      >\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleEdit}\n          aria-label=\"edit\"\n        >\n          <i className=\"fas fa-edit\" />\n        </Dropdown.Item>\n        <Dropdown.Item\n          className={styles.DropdownItem}\n          onClick={handleDelete}\n          aria-label=\"delete\"\n        >\n          <i className=\"fas fa-trash-alt\" />\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};\n\nexport const ProfileEditDropdown = ({ id }) => {\n  const history = useHistory();\n  return (\n    <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\n      <Dropdown.Toggle as={ThreeDots} />\n      <Dropdown.Menu>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit`)}\n          aria-label=\"edit-profile\"\n        >\n          <i className=\"fas fa-edit\" /> edit profile\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\n          aria-label=\"edit-username\"\n        >\n          <i className=\"far fa-id-card\" />\n          change username\n        </Dropdown.Item>\n        <Dropdown.Item\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\n          aria-label=\"edit-password\"\n        >\n          <i className=\"fas fa-key\" />\n          change password\n        </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n};","import React from 'react';\nimport {Modal, Button} from 'react-bootstrap'\nimport buttonstyles from '../styles/Button.module.css'\n\nconst DeleteConfirmationModal = ({ show, handleClose, handleConfirm, itemName}) => {\n  return (\n    <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n            <Modal.Title>Confirm Delete</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n            Are you sure you want to delete this item?\n        </Modal.Body>\n        <Modal.Footer>\n            <Button className={buttonstyles.Button} onClick={handleClose}>Cancel</Button>\n            <Button className={buttonstyles.Danger} onClick={handleConfirm}>Delete</Button>\n        </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default DeleteConfirmationModal;","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\n\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\nimport Avatar from \"../../components/Avatar\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport useAlert from \"../../hooks/useAlert\";\n\n\nfunction CommentCreateForm(props) {\n  const { review, setComments, profileImage, profile_id, setReviews, id } = props;\n  const [content, setContent] = useState(\"\");\n  const { setAlert } = useAlert();\n\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const { data } = await axiosRes.post(\"/api/comments/\", {\n        content,\n        review,\n      });\n      setComments((prevComments) => [data, ...prevComments]);\n      setContent(\"\");\n      setReviews((prevReviews) => {\n        return prevReviews.map((prevReview) => {\n          if (prevReview.id === id) {\n            return {\n              ...prevReview,\n              comments_count: prevReview.comments_count + 1, \n            };\n          }\n          return prevReview;\n        });\n      });\n      setAlert('Comment created successfully', 'success');\n      \n    } catch (err) {\n     //console.log(err);\n      setAlert('Failed to create comment', 'error');\n    }\n  };\n\n  return (\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\n      <Form.Group>\n        <InputGroup>\n          <Link to={`/profiles/${profile_id}`}>\n            <Avatar src={profileImage} />\n          </Link>\n          <Form.Control\n            className={styles.Form}\n            placeholder=\"my comment...\"\n            as=\"textarea\"\n            value={content}\n            onChange={handleChange}\n            rows={2}\n          />\n        </InputGroup>\n      </Form.Group>\n      <button\n        className={`${styles.Button} btn d-block ml-auto`}\n        disabled={!content.trim()}\n        type=\"submit\"\n      >\n        post\n      </button>\n    </Form>\n  );\n}\n\nexport default CommentCreateForm;","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\nimport useAlert from \"../../hooks/useAlert\";\n\nfunction CommentEditForm(props) {\n    const { id, content, setShowEditForm, setComments, reviewId } = props;\n\n    const [formContent, setFormContent] = useState(content);\n    const { setAlert } = useAlert();\n\n    const handleChange = (event) => {\n        setFormContent(event.target.value);\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        try {\n            await axiosRes.put(`/api/comments/${id}/`, {\n                content: formContent.trim(),\n                review: reviewId,\n            });\n\n            setComments((prevComments) => \n                prevComments.map((comment) =>\n                    comment.id === id\n                      ? {\n                            ...comment,\n                            content: formContent.trim(),\n                            updated_at: \"now\",\n                        }\n                        : comment\n                ),\n            );\n        \n            setShowEditForm(false);\n            setAlert(\"Comment updated successfully\", \"success\");\n        } catch (err) {\n            //console.log(err);\n            setAlert(\"Failed to update comment\", \"error\");\n        }\n    };\n\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Form.Group className=\"pr-1\">\n                <Form.Control\n                    className={styles.Form}\n                    as=\"textarea\"\n                    value={formContent}\n                    onChange={handleChange}\n                    rows={2}\n                />\n            </Form.Group>\n            <div className=\"text-right\">\n                <button\n                    className={styles.Button}\n                    onClick={() => setShowEditForm(false)}\n                    type=\"button\"\n                >\n                    cancel\n                </button>\n                <button\n                    className={styles.Button}\n                    disabled={!content.trim()}\n                    type=\"submit\"\n                >\n                    save\n                </button>\n            </div>\n        </Form>\n    );\n}\n\nexport default CommentEditForm;","import React, { useState } from 'react';\nimport { Media } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Avatar from \"../../components/Avatar\";\nimport styles from \"../../styles/Comment.module.css\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\nimport { useCurrentUser } from \"../../context/currentUserContext\";\nimport useAlert from \"../../hooks/useAlert\";\nimport CommentEditForm from \"./CommentEditForm\";\n\nconst Comment = (props) => {\n  const {id, profile_id, profile_image, owner, updated_at, content, setReviews, setComments, reviewId } = props;\n\n  const [showEditForm, setShowEditForm] = useState(false);\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const { setAlert } = useAlert();\n\n  const handleDelete = async () => {\n    try {\n      await axiosRes.delete(`/api/comments/${id}/`);\n\n      setComments((prevComments) => prevComments.filter((comment) => comment.id !== id));\n\n      setReviews((prevReviews) => {\n        return prevReviews.map((prevReview) => {\n          if (prevReview.id === reviewId) {\n            return {\n              ...prevReview,\n              comments_count: prevReview.comments_count - 1, \n            };\n          }\n          return prevReview;\n        });\n      });\n      setAlert('Comment deleted successfully', 'success');\n\n    } catch (err) {\n      //console.log(err);\n      setAlert('Failed to delete comment', 'error');\n    }\n  };\n\n  return (\n    <>\n    <hr />\n    <Media>\n      <Link to={`/profiles/${profile_id}`}>\n        <Avatar src={profile_image} />\n        <span className={styles.Owner}>{owner}</span>\n        <span className={styles.Date}>{updated_at}</span>\n      </Link>\n      <Media.Body className=\"ml-2\">\n        {showEditForm ? (\n          <CommentEditForm\n            id={id}\n            profile_id={profile_id}\n            content={content}\n            profileImage={profile_image}\n            setComments={setComments}\n            setShowEditForm={setShowEditForm}\n            reviewId={reviewId}\n          />\n        ) : (\n          <p className='p-3 text-center'>{content}</p>\n        )}\n      </Media.Body>\n      {is_owner && !showEditForm && (\n        <MoreDropdown\n          handleEdit={() => setShowEditForm(true)}\n          handleDelete={handleDelete}\n        />\n      )}\n    </Media>\n  </>\n  );\n};\n\nexport default Comment;","import React, { useState, useEffect } from 'react';\nimport styles from '../../styles/Review.module.css';\nimport { useCurrentUser } from '../../context/currentUserContext';\nimport { Card, Container, Media, OverlayTrigger, Tooltip } from 'react-bootstrap';\nimport Avatar from '../../components/Avatar';\nimport { Link, useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport StarRating from '../../components/StarRating';\nimport { MoreDropdown } from '../../components/MoreDropdown';\nimport { axiosReq, axiosRes } from '../../api/axiosDefaults';\nimport useAlert from '../../hooks/useAlert';\nimport DeleteConfirmationModal from '../../components/DeleteConfirmationModal';\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\nimport Comment from '../comments/Comment'\n\nconst Review = (props) => {\n  const {\n    id,\n    owner,\n    book,\n    updated_at,\n    profile_image,\n    rating,\n    review_text,\n    comments_count,\n    like_id,\n    likes_count,\n    setReviews,\n  } = props;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n  const history = useHistory();\n  const { setAlert } = useAlert();\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [selectedReview, setSelectedReview] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [isMounted, setIsMounted] = useState(true);\n  \n\n  const handleLike = async () => {\n    try {\n      if (!like_id) {\n        const { data } = await axiosRes.post('/api/likes/', { review: id });\n        setReviews((prevReviews) => {\n          return prevReviews.map((prevReview) => {\n            if (prevReview.id === id) {\n              return {\n                ...prevReview,\n                like_id: data.id,\n                likes_count: prevReview.likes_count + 1, \n              };\n            }\n            return prevReview;\n          });\n        });\n      } else {\n        await axiosRes.delete(`/api/likes/${like_id}/`);\n        setReviews((prevReviews) => {\n          return prevReviews.map((prevReview) => {\n            if (prevReview.id === id) {\n              return {\n                ...prevReview,\n                like_id: null,\n                likes_count: prevReview.likes_count - 1, \n              };\n            }\n            return prevReview;\n          });\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const handleEdit = () => {\n    history.push(`/books/${book}/reviews/${id}/edit`)\n  }\n\n  const openDeleteModal = (id) => {\n    setSelectedReview(id);\n    setShowDeleteModal(true); \n  };\n\n  const handleDelete = async () => {\n    if (selectedReview) {\n      try {\n        await axiosRes.delete(`/api/reviews/${id}`);\n        setReviews((prevReviews) => prevReviews.filter((review) => review.id !== id));\n        setAlert('Review deleted succesfuly', 'success')\n      } catch (err) {\n        //console.log(err)\n        setAlert('Failed to delete review', 'error')\n      }\n      setShowDeleteModal(false);\n    }\n  };\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const response = await axiosReq.get(`/api/comments/?review=${id}`)\n        if (isMounted) {\n          setComments(response.data);\n        }\n      } catch (err) {\n        //console.log(err)\n      }\n    };\n    handleMount();\n\n    return () => {\n      setIsMounted(false);\n      setComments([]);\n    };\n\n  }, [id, isMounted])\n\n  return (\n    <Container>\n      <Card className={styles.Card}>\n        <Card.Body>\n            <Media className={styles.Media}>\n                <Link to={`/profiles/${owner.id}`}>\n                    <Avatar src={profile_image} height={55} />\n                    {owner}\n                </Link>\n                <div className={styles.RatingContainer}>\n                    <StarRating value={rating} />\n                </div>\n                <div>\n                  <span>{updated_at}</span>\n                  {is_owner && <MoreDropdown handleEdit={handleEdit} handleDelete={openDeleteModal} />}\n                </div>\n            </Media>\n            <Card.Text className={`${styles.Text} p-3`}>{review_text}</Card.Text>\n        </Card.Body>\n        <div className='text-center'>\n        {currentUser ? (\n          <span onClick={handleLike}>\n            {like_id ? (\n              <i className=\"fa-solid fa-heart\" />\n            ) : (\n              <i className='far fa-heart' />\n            )}\n          </span>\n        ) : (\n          <OverlayTrigger placement=\"top\" overlay={<Tooltip>Log in to like review</Tooltip>}>\n            <i className='far fa-heart' />\n          </OverlayTrigger>\n        )} {likes_count}\n          <span><i className='far fa-comments' />{comments_count}</span>\n        </div>\n        {currentUser && (\n        <CommentCreateForm\n          profile_id={currentUser.profile_id}\n          profileImage={profile_image}\n          review={id}\n          setReviews={setReviews}\n          setComments={setComments}\n          id={id}\n        />\n        )}\n        {comments.length ? (\n          comments.map((comment) => (\n            <Comment \n              key={comment.id} \n              {...comment} \n              setReviews={setReviews}\n              setComments={setComments}\n              reviewId={id}\n            />\n          ))\n        ): null} \n        <DeleteConfirmationModal\n            show={showDeleteModal}\n            handleClose={() => setShowDeleteModal(false)}\n            handleConfirm={handleDelete}\n        />\n    </Card>\n  </Container>\n  )\n}\n\nexport default Review;","import React from 'react';\nimport styles from '../../styles/Book.module.css';\nimport { Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\n\nconst BooksDisplay = (props) => {\nconst {\n    id,\n    title,\n    cover_image,\n    author,\n} = props\n\n  return (\n    <div className={styles.BookContainer}>\n        <Card className={styles.Card}>\n             <Link to={`/books/${id}`} className={styles.Link}>\n                <Card.Img variant='top' src={cover_image} alt={title} className={styles.CardImage} />\n            </Link>\n        </Card>\n        <div className={styles.Title}>{title}</div>\n        <div className={styles.Author}> by {author}</div>\n    </div>\n  )\n}\n\nexport default BooksDisplay;","import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Col, Row, Card, OverlayTrigger, Tooltip, Carousel } from 'react-bootstrap';\nimport styles from '../../styles/BookPage.module.css';\nimport buttonstyles from '../../styles/Button.module.css'\nimport { axiosReq, axiosRes } from '../../api/axiosDefaults';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Review from '../reviews/Review';\nimport StarRating from '../../components/StarRating';\nimport { useCurrentUser } from '../../context/currentUserContext';\nimport useAlert from '../../hooks/useAlert';\nimport BooksDisplay from './BooksDisplay';\n\n\nfunction BookPage() {\n    const { id } = useParams();\n    const [book, setBook] = useState({});\n    const [review, setReview] = useState([]);\n    const { setAlert } = useAlert();\n    const [relatedBooks, setRelatedBooks] = useState([]);\n    const currentUser = useCurrentUser();\n\n    useEffect(() => {\n      const fetchData = async () => {\n        try {\n          const [bookResponse, reviewResponse] = await Promise.all([\n            axiosReq.get(`/api/books/${id}`),\n            axiosReq.get(`/api/reviews/?book=${id}`),\n          ]);\n  \n          setBook(bookResponse.data);\n          setReview(reviewResponse.data);\n  \n          if (bookResponse.data.genre) {\n            const relatedBooksResponse = await axiosReq.get(`/api/books/?genre=${bookResponse.data.genre}`);\n            const filteredRelatedBooks = relatedBooksResponse.data.filter((relatedBook) => relatedBook.id !== bookResponse.data.id);\n            setRelatedBooks(filteredRelatedBooks);\n          }\n\n        } catch (err) {\n          //console.log(err);\n        }\n      };\n  \n      fetchData();\n    }, [id]);\n\n\n    const handleSave = async () => {\n      try {\n        if (!book.saved_id) {\n          const { data } = await axiosRes.post('/api/saved-books/', { book: id });\n          setBook((prevBook) => ({ ...prevBook, saved_id: data.id }));\n          setAlert( 'Book saved successfully', 'success');\n\n        } else {\n          await axiosRes.delete(`/api/saved-books/${book.saved_id}/`);\n          setBook((prevBook) => ({ ...prevBook, saved_id: null }));\n          setAlert( 'Book unsaved successfully', 'success');\n        }\n\n      } catch (err) {\n        console.error(err);\n        setAlert('Failed to save book', 'error');\n      }\n    };\n\n  return (\n    <Container className={styles.Container}>\n        <Row>\n            <Col>\n              <Card className={styles.Image}>\n                <img src={book.cover_image} alt={book.title} />\n              </Card>\n              <div className={`m-2 ${styles.Count}'`}>{book.reviews_count} reviews</div>\n              {currentUser ? (\n                <Link to={`/books/${id}/reviews`} className={buttonstyles.Button}>\n                  Review This Book\n                </Link>\n              ) : (\n                <OverlayTrigger placement=\"top\" overlay={<Tooltip>Log in to review this book</Tooltip>}>\n                  <span className={buttonstyles.Button} disabled>\n                    Review This Book\n                  </span>\n                </OverlayTrigger>\n              )}\n            </Col>\n            <Col xs={12} md={8} className='text-center'>\n              <div className={styles.BookInfo}>\n                  <div>\n                    <div className={styles.Title}>\n                      {book.title}\n                    </div>\n                    <div className=\"mb-2 text-muted\">\n                     by: {book.author}\n                    </div>\n                  </div>\n                  <div>\n                    <StarRating value={book.average_rating} />\n                    <span>{book.average_rating}</span>\n                  </div>\n                  <div>\n                  {currentUser ? (\n                    <span onClick={handleSave}>\n                      {book.saved_id ? (\n                        <i className=\"fa-solid fa-bookmark\"></i>\n                      ) : (\n                        <i className=\"fa-regular fa-bookmark\"></i>\n                      )}\n                    </span>\n                  ) : (\n                    <OverlayTrigger placement=\"top\" overlay={<Tooltip>Log in to save book</Tooltip>}>\n                      <i className=\"fa-regular fa-bookmark\"></i>\n                    </OverlayTrigger>\n                  )}\n                  </div>\n              </div>\n                  <div className={`${styles.description} p-3`}>{book.description}</div> \n            </Col>\n        </Row>\n        <Row className={styles.Row}>\n        <hr/>\n        <h5 className='text-center'>Related Books</h5>\n        <hr/>\n        {relatedBooks.length ? (\n                <Carousel indicators={false}>\n                    {relatedBooks.map((book) => (\n                        <Carousel.Item key={book.id}>\n                            <BooksDisplay {...book} />\n                        </Carousel.Item>\n                    ))}\n                </Carousel>\n            ) : (\n                <p className='text-center'>No related books found</p>\n            )}\n        </Row>\n        <Row className={styles.Row}>\n        <hr/>\n        <h5 className='text-center'>Reviews</h5>\n        <hr/>\n        {review.length > 0 ? (\n          review.map((review) => (\n            <Review key={review.id} {...review} setReviews={setReview} />\n          ))\n        ) : (\n          <p className='text-center'>No reviews yet. Be the first to review this book!</p>\n        )}\n        </Row>\n    </Container>\n  )\n}\n\nexport default BookPage;","import { createContext, useContext, useEffect, useState } from \"react\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { useCurrentUser } from \"./currentUserContext\";\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\n\nconst ProfileDataContext = createContext();\nconst SetProfileDataContext = createContext();\n\nexport const useProfileData = () => useContext(ProfileDataContext);\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\n\nexport const ProfileDataProvider = ({ children }) => {\n  const [profileData, setProfileData] = useState({\n    pageProfile: { results: [] },\n    popularProfiles: { results: [] },\n  });\n\n  const currentUser = useCurrentUser();\n\n  const handleFollow = async(clickedProfile) => {\n    try {\n      const {data} = await axiosRes.post('/api/followers/', {\n        followed: clickedProfile.id,\n      });\n\n      setProfileData((prevState) => ({\n        ...prevState,\n        pageProfile: {\n          results: prevState.pageProfile.results.map((profile) =>\n            followHelper(profile, clickedProfile, data.id)\n          ),\n        },\n        popularProfiles: {\n          ...prevState.popularProfiles,\n          results: prevState.popularProfiles.results.map((profile) =>\n            followHelper(profile, clickedProfile, data.id)\n          ),\n        },\n      }));\n\n    } catch (err) {\n      //console.log(err);\n    }\n  };\n\n  const handleUnfollow = async (clickedProfile) => {\n    try {\n      await axiosRes.delete(`/api/followers/${clickedProfile.following_id}/`);\n\n      setProfileData((prevState) => ({\n        ...prevState,\n        pageProfile: {\n          results: prevState.pageProfile.results.map((profile) =>\n            unfollowHelper(profile, clickedProfile)\n          ),\n        },\n        popularProfiles: {\n          ...prevState.popularProfiles,\n          results: prevState.popularProfiles.results.map((profile) =>\n            unfollowHelper(profile, clickedProfile)\n          ),\n        },\n      }));\n    } catch (err) {\n      //console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    const handleMount = async () => {\n      try {\n        const { data } = await axiosReq.get(\n          \"/api/profiles/?ordering=-reviews_count\"\n        );\n        setProfileData((prevState) => ({\n          ...prevState,\n          popularProfiles: { results: data },\n        }));\n      } catch (err) {\n        //console.log(err);\n      }\n    };\n\n    handleMount();\n  }, [currentUser]);\n\n  return (\n    <ProfileDataContext.Provider value={profileData}>\n      <SetProfileDataContext.Provider value={{setProfileData, handleFollow, handleUnfollow}}>\n        {children}\n      </SetProfileDataContext.Provider>\n    </ProfileDataContext.Provider>\n  );\n};","import React from 'react';\nimport styles from '../../styles/Profile.module.css'\nimport buttonStyles from '../../styles/Button.module.css'\nimport { useCurrentUser } from '../../context/currentUserContext';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Avatar from '../../components/Avatar';\nimport { Button } from 'react-bootstrap';\nimport { useSetProfileData } from '../../context/ProfileDataContext';\n\n\nconst Profile = (props) => {\n  const { profile, imageSize = 55} = props;\n  const { id, following_id, image, owner } = profile;\n\n  const currentUser = useCurrentUser();\n  const is_owner = currentUser?.username === owner;\n\n  const {handleFollow, handleUnfollow} = useSetProfileData();\n\n  return (\n    <div className='flex-column'>\n      <div>\n        <Link className='align-self-center' to={`/profiles/${id}`}>\n          <Avatar src={image} height={imageSize}/>\n        </Link>\n      </div>\n      <div className={`mx-2 ${styles.WordBreak}`}>\n        <strong>{owner}</strong>\n      </div>\n      <div className='ml-auto'>\n        {currentUser && !is_owner && (\n          following_id ? (\n            <Button className={buttonStyles.Button} onClick={() => handleUnfollow(profile)}>unfollow</Button>\n          ) : (\n            <Button className={buttonStyles.Button} onClick={() => handleFollow(profile)}>follow</Button>\n          )\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Profile;","import React from 'react';\nimport appStyles from '../../App.module.css';\nimport { Container } from 'react-bootstrap';\nimport Profile from './Profile';\nimport { useProfileData } from '../../context/ProfileDataContext';\n\nconst PopularProfiles = () => {\n    const { popularProfiles } = useProfileData();\n\n  return (\n    <Container className={appStyles.Content}>\n        <p>Most followed profiles</p>\n        <div className='d-flex justify-content-around'>\n            {popularProfiles.results.slice(0,4).map((profile) => (\n                <Profile key={profile.id} profile={profile} />\n            ))} \n        </div>   \n    </Container>\n  )\n}\n\nexport default PopularProfiles;","import React, { useEffect, useState } from 'react'\nimport styles from '../../styles/Book.module.css';\nimport {Form, Container, Row, Card} from \"react-bootstrap\";\nimport { axiosReq } from '../../api/axiosDefaults';\nimport { Link, useHistory, useLocation } from 'react-router-dom/cjs/react-router-dom.min';\nimport DeleteConfirmationModal from '../../components/DeleteConfirmationModal';\nimport useAlert from '../../hooks/useAlert';\nimport PopularProfiles from '../profiles/PopularProfiles';\n\n\nconst Book = ({ message, filter = \"\" }) => {\n    const [books, setBooks] = useState([]);\n    const history = useHistory();\n    const [showDeleteModal, setShowDeleteModal] = useState(false);\n    const [selectedBookId, setSelectedBookId] = useState(null);\n    const { setAlert } = useAlert();\n    const [query, setQuery] = useState(\"\");\n    const {pathname} = useLocation();\n\n    const handleEdit = (id) => {\n        history.push(`/books/${id}/edit`)\n    };\n\n    const openDeleteModal = (id) => {\n        setSelectedBookId(id);\n        setShowDeleteModal(true); \n    };\n\n    const handleDelete = async () => {\n        if (selectedBookId) {\n            try {\n                await axiosReq.delete(`/api/books/${selectedBookId}/`);\n                setBooks((prevBooks) => prevBooks.filter((book) => book.id !== selectedBookId));\n                history.push(\"/\");\n                setAlert('Book deleted successfully', 'success')\n            } catch (err) {\n                //console.log(err);\n                setAlert('Failed to delete book', 'error')\n            }\n            setShowDeleteModal(false);\n        }\n    };\n        \n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n                const response = await axiosReq.get(`/api/books/?search=${query}&${filter}`)\n                setBooks(response.data);\n            }catch(err) {\n                //console.log(err)\n            }\n        };\n\n        const timer = setTimeout(() => {\n            handleMount();;\n        }, 1000);\n\n        return () => {\n            clearTimeout(timer);\n        };\n    }, [query, filter, pathname])\n\n    return (\n        <Container className={styles.Container}>\n            <i className={`fas fa-search ${styles.SearchIcon}`} />\n            <Form className={styles.SearchBar} onSubmit={(event) => event.preventDefault()}>\n                <Form.Control\n                    value={query}\n                    onChange={(event) => setQuery(event.target.value)}\n                    type=\"search\"\n                    placeholder=\"Search\"\n                    className=\"me-2\"\n                    aria-label=\"Search\"\n                />\n            </Form>\n            <PopularProfiles />\n            <Row xs={1} md={3} lg={4}>\n                {books.map((book) => (\n                    <div key={book.id} className={styles.BookContainer}>\n                        <Card className={styles.Card}>\n                            <Link to={`books/${book.id}`} className={styles.Link}>\n                                <Card.Img variant='top' src={book.cover_image} alt={book.title} className={styles.CardImage} />\n                            </Link>\n                        </Card>\n                        <div className={styles.Title}>{book.title}</div>\n                        <div className={styles.Author}> by {book.author}</div>\n                        <div className={styles.CardBody}>\n                            {book.is_owner && (\n                                <>\n                                    <div className={styles.Icons}>\n                                        <i onClick={() => handleEdit(book.id)} className=\"fas fa-edit\"></i>\n                                        <i onClick={() => openDeleteModal(book.id)} className=\"fas fa-trash\"></i>\n                                    </div>\n                                </>\n                                )}\n                        </div>\n                    </div>\n                ))}\n            </Row>\n            <DeleteConfirmationModal\n                show={showDeleteModal}\n                handleClose={() => setShowDeleteModal(false)}\n                handleConfirm={handleDelete}\n            />\n        </Container>\n    )\n}\n\nexport default Book;","import React, { useEffect, useRef, useState } from 'react';\nimport {Form, Button, Alert} from 'react-bootstrap';\nimport styles from '../../styles/BookCreateEditForm.module.css';\nimport buttonstyles from '../../styles/Button.module.css';\nimport appstyles from \"../../App.module.css\"\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { axiosReq } from '../../api/axiosDefaults';\nimport useAlert from '../../hooks/useAlert';\n\n\nfunction BookEditForm() {\n    const [errors, setErrors] = useState({});\n\n    const [bookData, setBookData] = useState({\n        title: '',\n        author: '',\n        description: '',\n        genre: '',\n        coverImage: '',\n    });\n\n    const {title, author, description, genre, coverImage} = bookData;\n\n    const imageInput = useRef(null);\n    const history = useHistory();\n    const {id} = useParams();\n    const { setAlert } = useAlert();\n\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n               const {data} = await axiosReq.get(`/api/books/${id}/`);\n               // console.log(data);\n               const {title, author, description, genre, coverImage, is_owner} = data;\n\n               is_owner ? setBookData({title, author, description, genre, coverImage}) : history.push('/');\n            } catch(err){\n              //console.log(err)\n            }\n        };\n        handleMount();\n    }, [history, id])\n       \n    \n    const handleChange = (event) => {\n        setBookData({\n            ...bookData, \n            [event.target.name]: event.target.value,\n        });\n    };\n\n    const handleImageChange = (event) => {\n        if (event.target.files.length){\n            URL.revokeObjectURL(coverImage);\n            setBookData({\n                ...bookData,\n                coverImage: URL.createObjectURL(event.target.files[0]),\n            });\n        }\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const formData = new FormData();\n\n        formData.append('title', title);\n        formData.append('author', author);\n        formData.append('description', description);\n        formData.append('genre', genre);\n\n        if (imageInput?.current?.files[0]) {\n            formData.append('cover_image', imageInput.current.files[0]);\n        }\n\n        try {\n          await axiosReq.put(`/api/books/${id}`, formData);\n          history.push(`/books/${id}`)\n          setAlert('Book updated successfully', 'success')\n        } catch(err){\n          //console.log(err)\n          if (err.response?.status !== 401){\n            setErrors(err.response?.data)\n            setAlert('Failed to update book', 'error')\n          }  \n        }\n    }\n\n  return (\n    <Form className={styles.Form} onSubmit={handleSubmit}>\n        <Form.Group controlId='title'>\n            <Form.Label className={styles.FormLabel}>Title</Form.Label>\n            <Form.Control \n                className={styles.FormControl}\n                type='text'\n                name='title'\n                value={title}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.title?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='author'>\n            <Form.Label className={styles.FormLabel}>Author</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                type='text'\n                name='author'\n                value={author}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.author?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='genre'>\n            <Form.Label className={styles.FormLabel}>Genre</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                type='text'\n                name='genre'\n                value={genre}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.genre?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId='description'>\n            <Form.Label className={styles.FormLabel}>Description</Form.Label>\n            <Form.Control\n                className={styles.FormControl}\n                as='textarea'\n                name='description'\n                rows={6}\n                value={description}\n                onChange={handleChange}\n            />\n        </Form.Group>\n        {errors?.summary?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <Form.Group controlId=\"cover_image\">\n            <Form.Label className={styles.FormLabel}>Cover Image</Form.Label>\n            <Form.File\n                name=\"cover_image\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n                ref={imageInput}\n            />\n        </Form.Group>\n        {errors?.coverImage?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n        )}\n        <div className={buttonstyles.CenterButton}>\n            <Button className={buttonstyles.Danger} onClick={() => history.goBack()}>\n                Cancel\n            </Button>\n            <Button className={buttonstyles.Button} type='Submit'>\n                Save\n            </Button>\n        </div>\n    </Form>\n  )\n}\n\nexport default BookEditForm;","import React, { useState } from 'react'\nimport { Alert, Button, Container, Form } from 'react-bootstrap';\nimport styles from '../../styles/ReviewCreateEditForm.module.css'\nimport buttonstyles from '../../styles/Button.module.css'\nimport appstyles from '../../App.module.css'\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { axiosReq } from '../../api/axiosDefaults';\nimport StarRating from '../../components/StarRating';\nimport useAlert from '../../hooks/useAlert';\n\nfunction ReviewCreateForm() {\n  const [errors, setErrors] = useState({});\n  const history = useHistory();\n  const { id: bookId } = useParams();\n  const { setAlert } = useAlert();\n\n  const [reviewData, setReviewData] = useState({\n    review_text: '',\n    rating: 0,\n  });\n\n  const {review_text, rating} = reviewData;\n\n  const handleChange = (event) => {\n    setReviewData({\n      ...reviewData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleRatingChange = (newRating) => {\n    setReviewData({\n      ...reviewData,\n      rating: newRating, \n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    const formData = new FormData();\n\n    formData.append('review_text', review_text)\n    formData.append('rating', rating)\n    formData.append('book', bookId);\n\n    try {\n      await axiosReq.post(`/api/reviews/`, formData)\n      history.goBack()\n      setAlert('Review created successfully', 'success')\n      // console.log(data)\n    } catch(err) {\n      if (err.response?.status !== 401){\n        setErrors(err.response?.data)\n        setAlert('Failed to create review', 'error')\n      }\n    }\n  };\n\n  return (\n    <Container className={styles.Container}>\n        <h2 className={styles.Title}>Add Review</h2>\n        <Form className={styles.Form} onSubmit={handleSubmit}>\n          <Form.Group controlId='review_text' className={styles.TextArea}>\n              <Form.Label className={styles.FormLabel} hidden>Review Text</Form.Label>\n              <Form.Control\n                  className={styles.FormControl}\n                  as='textarea'\n                  name='review_text'\n                  placeholder='Write your review here...'\n                  rows={6}\n                  value={review_text}\n                  onChange={handleChange}\n              />\n          </Form.Group>\n          {errors?.review_text?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n          )}\n          <StarRating value={rating} onChange={handleRatingChange} />\n          {errors?.rating?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n          )}\n          <Button className={buttonstyles.Button} type='submit'>Submit</Button>\n        </Form>\n    </Container>\n  )\n}\n\nexport default ReviewCreateForm;","import React, { useEffect, useState } from 'react'\nimport { Alert, Button, Container, Form } from 'react-bootstrap';\nimport styles from '../../styles/ReviewCreateEditForm.module.css'\nimport buttonstyles from '../../styles/Button.module.css'\nimport appstyles from '../../App.module.css'\nimport { useHistory, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport { axiosReq } from '../../api/axiosDefaults';\nimport StarRating from '../../components/StarRating';\nimport useAlert from '../../hooks/useAlert';\n\nfunction ReviewEditForm() {\n    const [errors, setErrors] = useState({});\n\n    const [reviewData, setReviewData] = useState({\n        review_text: '',\n        rating: '',\n    });\n\n    const {review_text, rating} = reviewData;\n    const history = useHistory();\n    const {bookId, reviewId} = useParams();\n    const { setAlert } = useAlert();\n\n    useEffect(() => {\n        const handleMount = async () => {\n            try {\n               const {data} = await axiosReq.get(`/api/reviews/${reviewId}`);\n               const {review_text, rating, is_owner} = data;\n\n               is_owner ? setReviewData({review_text, rating}) : history.push('/');\n            } catch(err){\n              //console.log(err)\n            }\n        };\n        handleMount();\n    }, [history, reviewId])\n       \n    \n    const handleChange = (event) => {\n        setReviewData({\n            ...reviewData, \n            [event.target.name]: event.target.value,\n        });\n    };\n\n    const handleRatingChange = (newRating) => {\n        setReviewData({\n          ...reviewData,\n          rating: newRating, \n        });\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const formData = new FormData();\n\n        formData.append('review_text', review_text);\n        formData.append('rating', rating);\n        formData.append('book', bookId);\n\n        try {\n          await axiosReq.put(`/api/reviews/${reviewId}`, formData);\n          history.goBack()\n          setAlert('Review updated successfully', 'success')\n        } catch(err){\n          //console.log(err)\n          if (err.response?.status !== 401){\n            setErrors(err.response?.data)\n            setAlert('Failed to update review', 'error')\n          }  \n        }\n    }\n\n  return (\n    <Container className={styles.Container}>\n        <h2 className={styles.Title}>Add Review</h2>\n        <Form className={styles.Form} onSubmit={handleSubmit}>\n          <Form.Group controlId='review_text' className={styles.TextArea}>\n              <Form.Label className={styles.FormLabel} hidden>Review Text</Form.Label>\n              <Form.Control\n                  className={styles.FormControl}\n                  as='textarea'\n                  name='review_text'\n                  placeholder='Write your review here...'\n                  rows={6}\n                  value={review_text}\n                  onChange={handleChange}\n              />\n          </Form.Group>\n          {errors?.review_text?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n          )}\n          <StarRating value={rating} onChange={handleRatingChange} />\n          {errors?.rating?.map((message, idx) =>\n            <Alert className={appstyles.Alert} variant=\"warning\" key={idx}>{message}</Alert>\n          )}\n          <Button className={buttonstyles.Button} type='submit'>Submit</Button>\n        </Form>\n    </Container>\n  )\n}\n\nexport default ReviewEditForm;","import React, { useEffect, useState } from 'react';\nimport styles from '../../styles/ProfilesPage.module.css';\nimport buttonStyles from '../../styles/Button.module.css'\nimport { Button, Carousel, Col, Container, Image, Row } from 'react-bootstrap';\nimport PopularProfiles from './PopularProfiles';\nimport { useCurrentUser } from '../../context/currentUserContext';\nimport { axiosReq } from '../../api/axiosDefaults';\nimport { useProfileData, useSetProfileData } from '../../context/ProfileDataContext';\nimport { ProfileEditDropdown } from \"../../components/MoreDropdown\";\nimport { useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport Review from '../reviews/Review';\nimport BooksDisplay from '../books/BooksDisplay';\n\n\nfunction ProfilesPage() {\n    const currentUser = useCurrentUser();\n    const {id} = useParams();\n    const {setProfileData, handleFollow, handleUnfollow }= useSetProfileData();\n    const {pageProfile} = useProfileData();\n    const [profile] = pageProfile.results;\n    const is_owner = currentUser?.username === profile?.owner;\n    const [profileReviews, setProfileReviews] = useState([]);\n    const [profileBooks, setProfileBooks] = useState([]);\n\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const [{data: pageProfile}, reviewsResponse, booksResponse] = await Promise.all ([\n                    axiosReq.get(`/api/profiles/${id}/`),\n                    axiosReq.get(`/api/reviews/?owner__profile=${id}`),\n                    axiosReq.get(`/api/books/?owner__profile=${id}`),\n                ]);\n                setProfileData(prevState => ({\n                    ...prevState,\n                    pageProfile: {results: [pageProfile]},\n                }));\n                setProfileReviews(reviewsResponse.data)\n                setProfileBooks(booksResponse.data)\n            } catch (err) {\n                //console.log(err);\n            }\n        };\n        fetchData();\n    }, [id, setProfileData]);\n\n    const userInfo = (\n        <>\n            {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\n            <Row className='px-3 text-center'>\n                <Col lg={3} className='text-lg-left'>\n                    <Image className={styles.ProfileImage} roundedCircle src={profile?.image} />\n                </Col>\n                <Col lg={6}>\n                    <h3 className='m-2'>{profile?.owner}</h3>\n                    <Row className='justify-content-center'>\n                        <Col xs={3} className='my-2'>\n                            <div>{profile?.books_count}</div>\n                            <div>Books</div>\n                        </Col>\n                        <Col xs={3} className='my-2'>\n                            <div>{profile?.reviews_count}</div>\n                            <div>Reviews</div>\n                        </Col>\n                        <Col xs={3} className='my-2'>\n                            <div>{profile?.followers_count}</div>\n                            <div>Followers</div>\n                        </Col>\n                        <Col xs={3} className='my-2'>\n                            <div>{profile?.following_count}</div>\n                            <div>Following</div>\n                        </Col>\n                    </Row>\n                </Col>\n                <Col lg={3} className='text-lg-right mt-2'>\n                {currentUser && !is_owner && (\n                    profile?.following_id  ? (\n                        <Button className={buttonStyles.Button} onClick={() => handleUnfollow(profile)}>unfollow</Button>\n                    ) : (\n                        <Button className={buttonStyles.Button} onClick={() => handleFollow(profile)}>follow</Button>\n                    )\n                )}\n                </Col>\n                {profile?.biography && <Col className='p-3'>{profile.biography}</Col>}\n            </Row>\n        </>\n    )\n\n    const mainProfileReviews = (\n        <>\n            <hr/>\n            <p className='text-center'>{profile?.owner}'s reviews</p>\n            <hr/>\n            {profileReviews.length ? (\n                profileReviews.map((review) => (\n                    <Review key={review.id} {...review} setReviews={setProfileReviews} />\n                ))\n            ) : (\n                <p className='text-center'><strong>No reviews found for {profile?.owner}.</strong></p>\n            )}\n        </>\n    )\n\n    const mainProfileBooks = (\n        <>\n            <hr/>\n            <p className='text-center'>{profile?.owner}'s books</p>\n            <hr/>\n            {profileBooks.length ? (\n                <Carousel indicators={false}>\n                    {profileBooks.map((book) => (\n                        <Carousel.Item key={book.id}>\n                            <BooksDisplay {...book} />\n                        </Carousel.Item>\n                    ))}\n                </Carousel>\n            ) : (\n                <p className='text-center'><strong>No books found for {profile?.owner}.</strong></p>\n            )}\n        </>\n    )\n\n    return (\n        <Container className={styles.Container}>\n            <PopularProfiles />\n            <Row>\n                {userInfo}\n                {mainProfileBooks}\n                {mainProfileReviews}\n            </Row>\n        </Container>\n    )\n}\n\nexport default ProfilesPage;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Form from \"react-bootstrap/Form\";\nimport Row from \"react-bootstrap/Row\";\n\nimport { useHistory, useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useCurrentUser, useSetCurrentUser } from \"../../context/currentUserContext\";\nimport useAlert from '../../hooks/useAlert';\n\n\nconst UsernameForm = () => {\n  const [username, setUsername] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  const history = useHistory();\n  const { id } = useParams();\n  const { setAlert } = useAlert();\n\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() === id) {\n      setUsername(currentUser.username);\n    } else {\n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.put(\"/api/dj-rest-auth/user/\", {\n        username,\n      });\n      setCurrentUser((prevUser) => ({\n        ...prevUser,\n        username,\n      }));\n      history.goBack();\n      setAlert('Username updated successfully', 'success')\n    } catch (err) {\n      //console.log(err);\n      setErrors(err.response?.data);\n      setAlert('Failed to update username', 'error')\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit} className=\"my-2\">\n            <Form.Group>\n              <Form.Label>Change username</Form.Label>\n              <Form.Control\n                placeholder=\"username\"\n                type=\"text\"\n                value={username}\n                onChange={(event) => setUsername(event.target.value)}\n              />\n            </Form.Group>\n            {errors?.username?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              type=\"submit\"\n            >\n              save\n            </Button>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\n\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Form from \"react-bootstrap/Form\";\n\nimport { useHistory, useParams } from \"react-router-dom/cjs/react-router-dom.min\";\nimport { axiosRes } from \"../../api/axiosDefaults\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useCurrentUser } from \"../../context/currentUserContext\";\nimport useAlert from \"../../hooks/useAlert\";\n\nconst UserPasswordForm = () => {\n  const history = useHistory();\n  const { id } = useParams();\n  const currentUser = useCurrentUser();\n  const { setAlert } = useAlert();\n\n  const [userData, setUserData] = useState({\n    new_password1: \"\",\n    new_password2: \"\",\n  });\n  const { new_password1, new_password2 } = userData;\n\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (event) => {\n    setUserData({\n      ...userData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  useEffect(() => {\n    if (currentUser?.profile_id?.toString() !== id) {\n      \n      history.push(\"/\");\n    }\n  }, [currentUser, history, id]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      await axiosRes.post(\"/api/dj-rest-auth/password/change/\", userData);\n      history.goBack();\n      setAlert('Password updated successfully', 'success')\n    } catch (err) {\n      //console.log(err);\n      setErrors(err.response?.data);\n      setAlert('Failed to update password', 'error')\n    }\n  };\n\n  return (\n    <Row>\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\n        <Container className={appStyles.Content}>\n          <Form onSubmit={handleSubmit}>\n            <Form.Group>\n              <Form.Label>New password</Form.Label>\n              <Form.Control\n                placeholder=\"new password\"\n                type=\"password\"\n                value={new_password1}\n                onChange={handleChange}\n                name=\"new_password1\"\n              />\n            </Form.Group>\n            {errors?.new_password1?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Form.Group>\n              <Form.Label>Confirm password</Form.Label>\n              <Form.Control\n                placeholder=\"confirm new password\"\n                type=\"password\"\n                value={new_password2}\n                onChange={handleChange}\n                name=\"new_password2\"\n              />\n            </Form.Group>\n            {errors?.new_password2?.map((message, idx) => (\n              <Alert key={idx} variant=\"warning\">\n                {message}\n              </Alert>\n            ))}\n            <Button\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n              onClick={() => history.goBack()}\n            >\n              cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\n            >\n              save\n            </Button>\n          </Form>\n        </Container>\n      </Col>\n    </Row>\n  );\n};\n\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\nimport { useHistory, useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Image from \"react-bootstrap/Image\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport Container from \"react-bootstrap/Container\";\nimport Alert from \"react-bootstrap/Alert\";\n\nimport { axiosReq } from \"../../api/axiosDefaults\";\n\nimport btnStyles from \"../../styles/Button.module.css\";\nimport appStyles from \"../../App.module.css\";\nimport { useCurrentUser, useSetCurrentUser } from \"../../context/currentUserContext\";\nimport useAlert from \"../../hooks/useAlert\";\n\nconst ProfileEditForm = () => {\n  const currentUser = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n  const { id } = useParams();\n  const history = useHistory();\n  const imageFile = useRef();\n  const { setAlert } = useAlert();\n\n  const [profileData, setProfileData] = useState({\n    name: \"\",\n    biography: \"\",\n    image: \"\",\n  });\n  const { name, biography, image } = profileData;\n\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    const handleMount = async () => {\n      if (currentUser?.profile_id?.toString() === id) {\n        try {\n          const { data } = await axiosReq.get(`/api/profiles/${id}/`);\n          const { name, biography, image } = data;\n          setProfileData({ name, biography, image });\n        } catch (err) {\n          //console.log(err);\n          history.push(\"/\");\n        }\n      } else {\n        history.push(\"/\");\n      }\n    };\n\n    handleMount();\n  }, [currentUser, history, id]);\n\n  const handleChange = (event) => {\n    setProfileData({\n      ...profileData,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const formData = new FormData();\n    formData.append(\"name\", name);\n    formData.append(\"biography\", biography);\n\n    if (imageFile?.current?.files[0]) {\n      formData.append(\"image\", imageFile?.current?.files[0]);\n    }\n\n    try {\n      const { data } = await axiosReq.put(`/api/profiles/${id}/`, formData);\n      setCurrentUser((currentUser) => ({\n        ...currentUser,\n        profile_image: data.image,\n      }));\n      history.goBack();\n      setAlert('Profile updated successfully', 'success')\n    } catch (err) {\n      //console.log(err);\n      setErrors(err.response?.data);\n      setAlert('Failed to update profile', 'error')\n    }\n  };\n\n  const textFields = (\n    <>\n      <Form.Group>\n        <Form.Label>Bio</Form.Label>\n        <Form.Control\n          as=\"textarea\"\n          value={biography}\n          onChange={handleChange}\n          name=\"biography\"\n          rows={7}\n        />\n      </Form.Group>\n\n      {errors?.content?.map((message, idx) => (\n        <Alert variant=\"warning\" key={idx}>\n          {message}\n        </Alert>\n      ))}\n      <Button\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\n        onClick={() => history.goBack()}\n      >\n        cancel\n      </Button>\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\n        save\n      </Button>\n    </>\n  );\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Row>\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\n          <Container className={appStyles.Content}>\n            <Form.Group>\n              {image && (\n                <figure>\n                  <Image src={image} fluid />\n                </figure>\n              )}\n              {errors?.image?.map((message, idx) => (\n                <Alert variant=\"warning\" key={idx}>\n                  {message}\n                </Alert>\n              ))}\n              <div>\n              </div>\n              <Form.File\n                id=\"image-upload\"\n                ref={imageFile}\n                accept=\"image/*\"\n                onChange={(e) => {\n                  if (e.target.files.length) {\n                    setProfileData({\n                      ...profileData,\n                      image: URL.createObjectURL(e.target.files[0]),\n                    });\n                  }\n                }}\n              />\n            </Form.Group>\n            <div className=\"d-md-none\">{textFields}</div>\n          </Container>\n        </Col>\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\n          <Container className={appStyles.Content}>{textFields}</Container>\n        </Col>\n      </Row>\n    </Form>\n  );\n};\n\nexport default ProfileEditForm;","import React from 'react'\nimport styles from '../styles/ErrorPages.module.css'\n\nconst NotFound = () => {\n  return (\n    <>\n        <div className={styles.Container}>\n            <div className={styles.Content}>\n                <div className={styles.Emoji}>😢</div>\n                <h1>404 Error Page</h1>\n                <p>The page you are looking for does not exist</p>\n            </div>\n        </div>\n    </>\n  )\n}\n\nexport default NotFound;","import styles from \"./App.module.css\";\nimport NavBar from './components/NavBar';\nimport {Route, Switch} from 'react-router-dom';\nimport {Container} from \"react-bootstrap\";\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport SignInForm from \"./pages/auth/SignInForm\";\nimport './api/axiosDefaults'\nimport AlertPopup from \"./components/AlertPopup\";\nimport BookCreateForm from \"./pages/books/BookCreateForm\";\nimport BookPage from \"./pages/books/BookPage\";\nimport Book from \"./pages/books/Book\";\nimport BookEditForm from \"./pages/books/BookEditForm\";\nimport ReviewCreateForm from \"./pages/reviews/ReviewCreateForm\";\nimport ReviewEditForm from \"./pages/reviews/ReviewEditForm\";\nimport { useCurrentUser } from \"./context/currentUserContext\";\nimport ProfilesPage from \"./pages/profiles/ProfilesPage\";\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\nimport NotFound from \"./errors/NotFound\";\n\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <AlertPopup />\n        <Switch>\n          <Route exact path=\"/\" render={() => <Book />} />\n          <Route\n            exact \n            path=\"/mybooks\" \n            render={() => (\n              <Book\n                message=\"No books saved\"\n                filter={`saved__owner__profile=${profile_id}`}\n              />\n            )} />\n          <Route exact path=\"/signin\" render={() => <SignInForm /> } />\n          <Route exact path=\"/signup\" render={() => <SignUpForm /> } />\n          <Route exact path=\"/books/create\" render={() => <BookCreateForm />} />\n          <Route exact path=\"/books/:id\" render={() => <BookPage /> } />\n          <Route exact path=\"/books/:id/edit\" render={() => <BookEditForm /> } />\n          <Route exact path=\"/books/:id/reviews\" render={() => <ReviewCreateForm /> } />\n          <Route exact path=\"/books/:bookId/reviews/:reviewId/edit\" render={() => <ReviewEditForm/> } />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilesPage /> } />\n          <Route exact path=\"/profiles/:id/edit/username\" render={() => <UsernameForm />}/>\n          <Route exact path=\"/profiles/:id/edit/password\" render={() => <UserPasswordForm />}/>\n          <Route exact path=\"/profiles/:id/edit\" render={() => <ProfileEditForm />} />\n          <Route render={()=> <NotFound />} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport { CurrentUserProvider } from './context/currentUserContext';\nimport { AlertProvider } from './context/AlertContext';\nimport { ProfileDataProvider } from './context/ProfileDataContext';\n\nReactDOM.render(\n    <Router>\n      <CurrentUserProvider>\n        <ProfileDataProvider>\n          <AlertProvider>\n            <App />\n          </AlertProvider>\n        </ProfileDataProvider>\n      </CurrentUserProvider>\n    </Router>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"BookCreateEditForm_Form__317oo\",\"FormLabel\":\"BookCreateEditForm_FormLabel__31yum\",\"FormControl\":\"BookCreateEditForm_FormControl__6q4yV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BookContainer\":\"Book_BookContainer__1QwOm\",\"Card\":\"Book_Card__khNrs\",\"CardImage\":\"Book_CardImage__1Iw9p\",\"Title\":\"Book_Title__3_EO9\",\"CardBody\":\"Book_CardBody__2anIW\",\"Link\":\"Book_Link__2Suzi\",\"Icons\":\"Book_Icons__3zpJB\",\"Author\":\"Book_Author__324ac\",\"SearchBar\":\"Book_SearchBar__3Bv8-\",\"SearchIcon\":\"Book_SearchIcon__sJ1h9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ReviewCreateEditForm_Container__2L1zP\",\"Title\":\"ReviewCreateEditForm_Title__2W9oR\",\"Form\":\"ReviewCreateEditForm_Form__2pDLW\",\"TextArea\":\"ReviewCreateEditForm_TextArea__2RY8z\",\"FormControl\":\"ReviewCreateEditForm_FormControl__BgeXk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"SignInUpForm_Input__3xaLZ\",\"Container\":\"SignInUpForm_Container__2cuBp\",\"Form\":\"SignInUpForm_Form__2ZPJ4\",\"Text\":\"SignInUpForm_Text__-5VQs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"BookPage_Container__2sPwj\",\"BookInfo\":\"BookPage_BookInfo__3WSl-\",\"ImgCol\":\"BookPage_ImgCol__3E4OO\",\"Image\":\"BookPage_Image__2IVtk\",\"Title\":\"BookPage_Title__1PBok\",\"Author\":\"BookPage_Author__1vzP_\",\"description\":\"BookPage_description__2kNdG\",\"Row\":\"BookPage_Row__1yLvE\",\"Count\":\"BookPage_Count__2_xd3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1amC6\",\"Active\":\"NavBar_Active__3PBZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__1Qeyz\",\"Button\":\"CommentCreateEditForm_Button__sGFSX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Media\":\"Review_Media___KvNN\",\"Text\":\"Review_Text__U0uEx\",\"Card\":\"Review_Card__qq7XX\",\"RatingContainer\":\"Review_RatingContainer__3BUvF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Dropdown\":\"MoreDropdown_Dropdown__3DiV_\",\"DropdownItem\":\"MoreDropdown_DropdownItem__2E4UM\",\"Absolute\":\"MoreDropdown_Absolute__2RO70\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"ErrorPages_Container__3qaBZ\",\"Content\":\"ErrorPages_Content__3H9Lu\",\"Emoji\":\"ErrorPages_Emoji__FjfLT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StarRating\":\"StarRating_StarRating__37A4j\",\"Star\":\"StarRating_Star__2E3LE\"};"],"sourceRoot":""}