(this.webpackJsonpmoments=this.webpackJsonpmoments||[]).push([[0],{100:function(e,t,a){e.exports={Owner:"Comment_Owner__3sgYe",Date:"Comment_Date__10qt0"}},101:function(e,t,a){e.exports={Container:"ProfilesPage_Container__apZEr",ProfileImage:"ProfilesPage_ProfileImage__2ndFW"}},116:function(e,t,a){e.exports={Avatar:"Avatar_Avatar__196lW"}},119:function(e,t,a){e.exports={WordBreak:"Profile_WordBreak__3_YmI"}},12:function(e,t,a){e.exports={Button:"Button_Button__27i9m",CenterButton:"Button_CenterButton__3iPlz",Danger:"Button_Danger__LnRwy"}},128:function(e,t,a){},14:function(e,t,a){e.exports={App:"App_App__16ZpL",Main:"App_Main__HQkvd",Search:"App_Search__3IPKu",Alert:"App_Alert__3Zd3X",Content:"App_Content__ZaMNr"}},158:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),s=a.n(c),o=(a(128),a(14)),i=a.n(o),l=a(8),u=a(11),j=a(178),d=a(179),b=a(56),p=a.p+"static/media/logo.4cdc4e40.png",O=a(54),m=a.n(O),v=a(22),x=a(10),f=a(25),h=a.n(f);h.a.default.baseURL="/api",h.a.defaults.headers.post["Content-Type"]="multipart/form-data",h.a.defaults.withCredentials=!0;var g=h.a.create(),w=h.a.create(),_=a(15),k=a(6),N=a(114),C=function(e,t,a){return e.id===t.id?Object(k.a)(Object(k.a)({},e),{},{followers_count:e.followers_count+1,following_id:a}):e.is_owner?Object(k.a)(Object(k.a)({},e),{},{following_count:e.following_count+1}):e},y=function(e,t){return e.id===t.id?Object(k.a)(Object(k.a)({},e),{},{followers_count:e.followers_count-1,following_id:null}):e.is_owner?Object(k.a)(Object(k.a)({},e),{},{following_count:e.following_count-1}):e},B=function(e){var t=Object(N.a)(null===e||void 0===e?void 0:e.refresh_token).exp;localStorage.setItem("refreshTokenTimestamp",t)},F=function(){localStorage.removeItem("refreshTokenTimestamp")},S=a(1),I=Object(n.createContext)(),A=Object(n.createContext)(),P=function(){return Object(n.useContext)(I)},R=function(){return Object(n.useContext)(A)},L=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(x.a)(a,2),c=r[0],s=r[1],o=Object(_.useHistory)(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/api/dj-rest-auth/user/");case 3:t=e.sent,a=t.data,s(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){i()}),[]),Object(n.useMemo)((function(){g.interceptors.request.use(function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("refreshTokenTimestamp")){e.next=11;break}return e.prev=1,e.next=4,h.a.post("/api/dj-rest-auth/token/refresh/");case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),F(),e.abrupt("return",t);case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),w.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==(null===(a=t.response)||void 0===a?void 0:a.status)){e.next=11;break}return e.prev=1,e.next=4,h.a.post("/api/dj-rest-auth/token/refresh/");case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),s((function(e){return e&&o.push("/signin"),null})),F();case 10:return e.abrupt("return",h()(t.config));case 11:return e.abrupt("return",Promise.reject(t));case 12:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}())}),[o]),Object(S.jsx)(I.Provider,{value:c,children:Object(S.jsx)(A.Provider,{value:s,children:t})})},D=a(116),E=a.n(D),T=function(e){var t=e.src,a=e.height,n=void 0===a?45:a,r=e.text;return Object(S.jsxs)("span",{children:[Object(S.jsx)("img",{className:E.a.Avatar,src:t,height:n,width:n,alt:"avatar"}),r]})},G=Object(n.createContext)(Object(k.a)(Object(k.a)({},{text:"",type:""}),{},{setAlert:function(){}})),U=function(e){var t=e.children,a=Object(n.useState)(""),r=Object(x.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),i=Object(x.a)(o,2),l=i[0],u=i[1];return Object(S.jsx)(G.Provider,{value:{text:c,type:l,setAlert:function(e,t){s(e),u(t),setTimeout((function(){s(""),u("")}),5e3)}},children:t})},H=G,M=function(){return Object(n.useContext)(H)},W=function(){var e=Object(n.useState)(!1),t=Object(x.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=function(e){c.current&&!c.current.contains(e.target)&&r(!1)};return document.addEventListener("mouseup",e),function(){document.removeEventListener("mouseup",e)}}),[c]),{expanded:a,setExpanded:r,ref:c}},z=function(){var e=P(),t=R(),a=M().setAlert,n=W(),r=n.expanded,c=n.setExpanded,s=n.ref,o=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post("/api/dj-rest-auth/logout/");case 3:t(null),F(),a("Logout success","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a("Logout failed","error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),i=Object(S.jsxs)(v.c,{activeClassName:m.a.Active,to:"/books/create",children:[Object(S.jsx)("i",{className:"far fa-plus-square"}),"Add Book"]}),O=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(v.c,{activeClassName:m.a.Active,to:"/profiles/".concat(null===e||void 0===e?void 0:e.profile_id),children:Object(S.jsx)(T,{src:null===e||void 0===e?void 0:e.profile_image,text:null===e||void 0===e?void 0:e.username,height:40})}),Object(S.jsxs)(v.c,{to:"/signin",onClick:o,children:[Object(S.jsx)("i",{className:"fa-solid fa-right-from-bracket"}),"Sign out"]})]}),x=Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(j.a,{className:"ml-auto",children:[Object(S.jsxs)(v.c,{activeClassName:m.a.Active,to:"/signin",children:[Object(S.jsx)("i",{className:"fa-solid fa-right-to-bracket"}),"Sign in"]}),Object(S.jsxs)(v.c,{activeClassName:m.a.Active,to:"/signup",children:[Object(S.jsx)("i",{className:"fa-solid fa-user-plus"}),"Sign up"]})]})});return Object(S.jsx)(d.a,{expanded:r,expand:"md",fixed:"top",className:m.a.NavBar,children:Object(S.jsxs)(b.a,{fluid:!0,children:[Object(S.jsx)(v.c,{to:"/",children:Object(S.jsx)(d.a.Brand,{children:Object(S.jsx)("img",{src:p,alt:"logo",height:"60"})})}),e&&i,Object(S.jsx)(d.a.Toggle,{ref:s,onClick:function(){return c(!r)},"aria-controls":"navbarScroll"}),Object(S.jsxs)(d.a.Collapse,{id:"navbarScroll",children:[Object(S.jsxs)(j.a,{className:"mx-auto",children:[Object(S.jsxs)(v.c,{exact:!0,activeClassName:m.a.Active,to:"/",children:[Object(S.jsx)("i",{className:"fa-solid fa-house"}),"Home"]}),e?Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(v.c,{activeClassName:m.a.Active,to:"/mybooks",children:[Object(S.jsx)("i",{className:"fa-solid fa-book"}),"My Books"]})}):null]}),Object(S.jsx)(j.a,{children:e?O:x})]})]})})},Z=a(21),q=a(13),J=a(36),X=a.n(J),Q=a(12),V=a.n(Q),Y=a(18),K=a(52),$=a(43),ee=function(e){var t=Object(Z.useHistory)();Object(n.useEffect)((function(){var a=function(){var a=Object(u.a)(Object(l.a)().mark((function a(){return Object(l.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,h.a.post("/api/dj-rest-auth/token/refresh/");case 3:"loggedIn"===e&&t.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),"loggedOut"===e&&t.push("/");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})));return function(){return a.apply(this,arguments)}}();a()}),[t,e])},te=function(){var e,t,a,r;ee("loggedIn");var c=Object(n.useState)({username:"",password1:"",password2:""}),s=Object(x.a)(c,2),o=s[0],j=s[1],d=o.username,p=o.password1,O=o.password2,m=Object(n.useState)({}),f=Object(x.a)(m,2),g=f[0],w=f[1],_=Object(Z.useHistory)(),N=M().setAlert,C=function(e){j(Object(k.a)(Object(k.a)({},o),{},Object(q.a)({},e.target.name,e.target.value)))},y=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("api/dj-rest-auth/registration/",o);case 4:_.push("/signin"),N("Account created successfully","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),w(null===(a=e.t0.response)||void 0===a?void 0:a.data),N("Account creation failed. Please try again","error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(b.a,{className:X.a.Container,children:Object(S.jsxs)(Y.a,{className:X.a.Form,onSubmit:y,children:[Object(S.jsx)("h2",{className:"mb-4 text-center",children:"Sign Up"}),Object(S.jsxs)(Y.a.Group,{controlId:"username",children:[Object(S.jsx)(Y.a.Label,{className:"d-none",children:"Username"}),Object(S.jsx)(Y.a.Control,{type:"text",placeholder:"Username",name:"username",className:X.a.Input,value:d,onChange:C})]}),null===(e=g.username)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"password1",children:[Object(S.jsx)(Y.a.Label,{className:"d-none",children:"Password"}),Object(S.jsx)(Y.a.Control,{type:"password",placeholder:"Password",name:"password1",className:X.a.Input,value:p,onChange:C})]}),null===(t=g.password1)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"password2",children:[Object(S.jsx)(Y.a.Label,{className:"d-none",children:"Confirm Password"}),Object(S.jsx)(Y.a.Control,{type:"Password",placeholder:"Confirm Password",name:"password2",className:X.a.Input,value:O,onChange:C})]}),null===(a=g.password2)||void 0===a?void 0:a.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)("div",{className:V.a.CenterButton,children:Object(S.jsx)($.a,{type:"submit",className:V.a.Button,children:"Sign Up"})}),null===(r=g.non_field_errors)||void 0===r?void 0:r.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)("p",{className:"".concat(X.a.Text," mt-3"),children:["Already have an account?",Object(S.jsx)(v.b,{to:"/signin",children:"login here"})]})]})})},ae=function(){var e,t,a,r=R(),c=M().setAlert;ee("loggedIn");var s=Object(n.useState)({username:"",password:""}),o=Object(x.a)(s,2),j=o[0],d=o[1],p=j.username,O=j.password,m=Object(n.useState)({}),f=Object(x.a)(m,2),g=f[0],w=f[1],_=Object(Z.useHistory)(),N=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,h.a.post("/api/dj-rest-auth/login/",j);case 4:a=e.sent,n=a.data,r(n.user),B(n),c("login success","success"),_.goBack(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),w(null===(s=e.t0.response)||void 0===s?void 0:s.data),c("login failed","error");case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){d(Object(k.a)(Object(k.a)({},j),{},Object(q.a)({},e.target.name,e.target.value)))};return Object(S.jsx)(b.a,{className:X.a.Container,children:Object(S.jsxs)(Y.a,{className:X.a.Form,onSubmit:N,children:[Object(S.jsx)("h2",{className:"mb-4 text-center",children:"Sign In"}),Object(S.jsxs)(Y.a.Group,{controlId:"username",children:[Object(S.jsx)(Y.a.Label,{className:"d-none",children:"Username"}),Object(S.jsx)(Y.a.Control,{type:"text",placeholder:"Username",name:"username",className:X.a.Input,value:p,onChange:C})]}),null===(e=g.username)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"password",children:[Object(S.jsx)(Y.a.Label,{className:"d-none",children:"Password"}),Object(S.jsx)(Y.a.Control,{type:"password",placeholder:"Password",name:"password",className:X.a.Input,value:O,onChange:C})]}),null===(t=g.password)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)("div",{className:V.a.CenterButton,children:Object(S.jsx)($.a,{type:"submit",className:V.a.Button,children:"Sign In"})}),null===(a=g.non_field_errors)||void 0===a?void 0:a.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)("p",{className:"".concat(X.a.Text," mt-3"),children:["Don't have an account?",Object(S.jsx)(v.b,{to:"/signup",children:"Register here"})]})]})})},ne=a(176),re=function(){var e=M(),t=e.text,a=e.type;return t&&a?Object(S.jsx)(ne.a,{className:i.a.Alert,severity:a,children:t}):Object(S.jsx)(S.Fragment,{})},ce=a(23),se=a.n(ce);var oe=function(){var e,t,a,r,c;ee("loggedOut");var s=Object(n.useState)({}),o=Object(x.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)({title:"",author:"",description:"",genre:"",coverImage:""}),p=Object(x.a)(b,2),O=p[0],m=p[1],v=O.title,f=O.author,h=O.description,w=O.genre,N=O.coverImage,C=Object(n.useRef)(null),y=Object(_.useHistory)(),B=M().setAlert,F=function(e){m(Object(k.a)(Object(k.a)({},O),{},Object(q.a)({},e.target.name,e.target.value)))},I=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r,c,s;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("title",v),a.append("author",f),a.append("description",h),a.append("genre",w),a.append("cover_image",C.current.files[0]),e.prev=7,e.next=10,g.post("/api/books/",a);case 10:n=e.sent,r=n.data,y.push("/books/".concat(r.id)),B("Book added successfully","success"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),401!==(null===(c=e.t0.response)||void 0===c?void 0:c.status)&&(d(null===(s=e.t0.response)||void 0===s?void 0:s.data),B("Failed to add a book","error"));case 19:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(Y.a,{className:se.a.Form,onSubmit:I,children:[Object(S.jsxs)(Y.a.Group,{controlId:"title",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Title"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"title",value:v,onChange:F})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"author",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Author"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"author",value:f,onChange:F})]}),null===j||void 0===j||null===(t=j.author)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"genre",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Genre"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"genre",value:w,onChange:F})]}),null===j||void 0===j||null===(a=j.genre)||void 0===a?void 0:a.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"description",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Summary"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,as:"textarea",name:"description",value:h,onChange:F})]}),null===j||void 0===j||null===(r=j.description)||void 0===r?void 0:r.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"cover_image",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Cover Image"}),Object(S.jsx)(Y.a.File,{name:"cover_image",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(N),m(Object(k.a)(Object(k.a)({},O),{},{coverImage:URL.createObjectURL(e.target.files[0])})))},ref:C})]}),null===j||void 0===j||null===(c=j.coverImage)||void 0===c?void 0:c.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)("div",{className:V.a.CenterButton,children:[Object(S.jsx)($.a,{className:V.a.Danger,onClick:function(){return y.goBack()},children:"Cancel"}),Object(S.jsx)($.a,{className:V.a.Button,type:"Submit",children:"Submit"})]})]})},ie=a(68),le=a(46),ue=a(182),je=a(181),de=a(175),be=a(180),pe=a(48),Oe=a.n(pe),me=a(77),ve=a.n(me),xe=a(174),fe=a(121),he=a(99),ge=a.n(he),we=function(e){var t=e.value,a=e.onChange,n=Array(5).fill(0);return Object(S.jsx)("div",{className:ge.a.StarRating,children:n.map((function(e,n){var r=n+1;return Object(S.jsx)(fe.a,{className:ge.a.Star,onClick:function(){return function(e){a&&a(e)}(r)},color:t>=r?"yellow":"grey"},n)}))})},_e=a(40),ke=a(78),Ne=a.n(ke),Ce=r.a.forwardRef((function(e,t){var a=e.onClick;return Object(S.jsx)("i",{className:"fas fa-ellipsis-v",ref:t,onClick:function(e){e.preventDefault(),a(e)}})})),ye=function(e){var t=e.handleEdit,a=e.handleDelete;return Object(S.jsxs)(_e.a,{className:"ml-auto ".concat(Ne.a.Dropdown),drop:"left",children:[Object(S.jsx)(_e.a.Toggle,{as:Ce}),Object(S.jsxs)(_e.a.Menu,{className:"text-center",popperConfig:{strategy:"fixed"},children:[Object(S.jsx)(_e.a.Item,{className:Ne.a.DropdownItem,onClick:t,"aria-label":"edit",children:Object(S.jsx)("i",{className:"fas fa-edit"})}),Object(S.jsx)(_e.a.Item,{className:Ne.a.DropdownItem,onClick:a,"aria-label":"delete",children:Object(S.jsx)("i",{className:"fas fa-trash-alt"})})]})]})},Be=function(e){var t=e.id,a=Object(_.useHistory)();return Object(S.jsxs)(_e.a,{className:"ml-auto px-3 ".concat(Ne.a.Absolute),drop:"left",children:[Object(S.jsx)(_e.a.Toggle,{as:Ce}),Object(S.jsxs)(_e.a.Menu,{children:[Object(S.jsxs)(_e.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit"))},"aria-label":"edit-profile",children:[Object(S.jsx)("i",{className:"fas fa-edit"})," edit profile"]}),Object(S.jsxs)(_e.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit/username"))},"aria-label":"edit-username",children:[Object(S.jsx)("i",{className:"far fa-id-card"}),"change username"]}),Object(S.jsxs)(_e.a.Item,{onClick:function(){return a.push("/profiles/".concat(t,"/edit/password"))},"aria-label":"edit-password",children:[Object(S.jsx)("i",{className:"fas fa-key"}),"change password"]})]})]})},Fe=a(177),Se=function(e){var t=e.show,a=e.handleClose,n=e.handleConfirm;e.itemName;return Object(S.jsxs)(Fe.a,{show:t,onHide:a,children:[Object(S.jsx)(Fe.a.Header,{closeButton:!0,children:Object(S.jsx)(Fe.a.Title,{children:"Confirm Delete"})}),Object(S.jsx)(Fe.a.Body,{children:"Are you sure you want to delete this item?"}),Object(S.jsxs)(Fe.a.Footer,{children:[Object(S.jsx)($.a,{className:V.a.Button,onClick:a,children:"Cancel"}),Object(S.jsx)($.a,{className:V.a.Danger,onClick:n,children:"Delete"})]})]})},Ie=a(37),Ae=a(118),Pe=a(61),Re=a.n(Pe);var Le=function(e){var t=e.review,a=e.setComments,r=e.profileImage,c=e.profile_id,s=e.setReviews,o=e.id,i=Object(n.useState)(""),j=Object(x.a)(i,2),d=j[0],b=j[1],p=M().setAlert,O=function(){var e=Object(u.a)(Object(l.a)().mark((function e(n){var r,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,w.post("/api/comments/",{content:d,review:t});case 4:r=e.sent,c=r.data,a((function(e){return[c].concat(Object(Ie.a)(e))})),b(""),s((function(e){return e.map((function(e){return e.id===o?Object(k.a)(Object(k.a)({},e),{},{comments_count:e.comments_count+1}):e}))})),p("Comment created successfully","success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),p("Failed to create comment","error");case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(Y.a,{className:"mt-2",onSubmit:O,children:[Object(S.jsx)(Y.a.Group,{children:Object(S.jsxs)(Ae.a,{children:[Object(S.jsx)(v.b,{to:"/profiles/".concat(c),children:Object(S.jsx)(T,{src:r})}),Object(S.jsx)(Y.a.Control,{className:Re.a.Form,placeholder:"my comment...",as:"textarea",value:d,onChange:function(e){b(e.target.value)},rows:2})]})}),Object(S.jsx)("button",{className:"".concat(Re.a.Button," btn d-block ml-auto"),disabled:!d.trim(),type:"submit",children:"post"})]})},De=a(100),Ee=a.n(De);var Te=function(e){var t=e.id,a=e.content,r=e.setShowEditForm,c=e.setComments,s=e.reviewId,o=Object(n.useState)(a),i=Object(x.a)(o,2),j=i[0],d=i[1],b=M().setAlert,p=function(){var e=Object(u.a)(Object(l.a)().mark((function e(a){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,w.put("/api/comments/".concat(t,"/"),{content:j.trim(),review:s});case 4:c((function(e){return e.map((function(e){return e.id===t?Object(k.a)(Object(k.a)({},e),{},{content:j.trim(),updated_at:"now"}):e}))})),r(!1),b("Comment updated successfully","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),b("Failed to update comment","error");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(Y.a,{onSubmit:p,children:[Object(S.jsx)(Y.a.Group,{className:"pr-1",children:Object(S.jsx)(Y.a.Control,{className:Re.a.Form,as:"textarea",value:j,onChange:function(e){d(e.target.value)},rows:2})}),Object(S.jsxs)("div",{className:"text-right",children:[Object(S.jsx)("button",{className:Re.a.Button,onClick:function(){return r(!1)},type:"button",children:"cancel"}),Object(S.jsx)("button",{className:Re.a.Button,disabled:!a.trim(),type:"submit",children:"save"})]})]})},Ge=function(e){var t=e.id,a=e.profile_id,r=e.profile_image,c=e.owner,s=e.updated_at,o=e.content,i=e.setReviews,j=e.setComments,d=e.reviewId,b=Object(n.useState)(!1),p=Object(x.a)(b,2),O=p[0],m=p[1],f=P(),h=(null===f||void 0===f?void 0:f.username)===c,g=M().setAlert,_=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("/api/comments/".concat(t,"/"));case 3:j((function(e){return e.filter((function(e){return e.id!==t}))})),i((function(e){return e.map((function(e){return e.id===d?Object(k.a)(Object(k.a)({},e),{},{comments_count:e.comments_count-1}):e}))})),g("Comment deleted successfully","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g("Failed to delete comment","error");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("hr",{}),Object(S.jsxs)(xe.a,{children:[Object(S.jsxs)(v.b,{to:"/profiles/".concat(a),children:[Object(S.jsx)(T,{src:r}),Object(S.jsx)("span",{className:Ee.a.Owner,children:c}),Object(S.jsx)("span",{className:Ee.a.Date,children:s})]}),Object(S.jsx)(xe.a.Body,{className:"ml-2",children:O?Object(S.jsx)(Te,{id:t,profile_id:a,content:o,profileImage:r,setComments:j,setShowEditForm:m,reviewId:d}):Object(S.jsx)("p",{className:"p-3 text-center",children:o})}),h&&!O&&Object(S.jsx)(ye,{handleEdit:function(){return m(!0)},handleDelete:_})]})]})},Ue=function(e){var t=e.id,a=e.owner,r=e.book,c=e.updated_at,s=e.profile_image,o=e.rating,i=e.review_text,j=e.comments_count,d=e.like_id,p=e.likes_count,O=e.setReviews,m=P(),v=(null===m||void 0===m?void 0:m.username)===a,f=Object(_.useHistory)(),h=M().setAlert,N=Object(n.useState)(!1),C=Object(x.a)(N,2),y=C[0],B=C[1],F=Object(n.useState)(null),I=Object(x.a)(F,2),A=I[0],R=I[1],L=Object(n.useState)([]),D=Object(x.a)(L,2),E=D[0],G=D[1],U=Object(n.useState)(!0),H=Object(x.a)(U,2),W=H[0],z=H[1],Z=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,d){e.next=9;break}return e.next=4,w.post("/api/likes/",{review:t});case 4:a=e.sent,n=a.data,O((function(e){return e.map((function(e){return e.id===t?Object(k.a)(Object(k.a)({},e),{},{like_id:n.id,likes_count:e.likes_count+1}):e}))})),e.next=12;break;case 9:return e.next=11,w.delete("/api/likes/".concat(d,"/"));case 11:O((function(e){return e.map((function(e){return e.id===t?Object(k.a)(Object(k.a)({},e),{},{like_id:null,likes_count:e.likes_count-1}):e}))}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!A){e.next=12;break}return e.prev=1,e.next=4,w.delete("/api/reviews/".concat(t));case 4:O((function(e){return e.filter((function(e){return e.id!==t}))})),h("Review deleted succesfuly","success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h("Failed to delete review","error");case 11:B(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/comments/?review=".concat(t));case 3:a=e.sent,W&&G(a.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){z(!1),G([])}}),[t,W]),Object(S.jsx)(b.a,{children:Object(S.jsxs)(ue.a,{className:ve.a.Card,children:[Object(S.jsxs)(ue.a.Body,{children:[Object(S.jsxs)(xe.a,{className:ve.a.Media,children:[Object(S.jsxs)(_.Link,{to:"/profiles/".concat(a.id),children:[Object(S.jsx)(T,{src:s,height:55}),a]}),Object(S.jsx)("div",{className:ve.a.RatingContainer,children:Object(S.jsx)(we,{value:o})}),Object(S.jsxs)("div",{children:[Object(S.jsx)("span",{children:c}),v&&Object(S.jsx)(ye,{handleEdit:function(){f.push("/books/".concat(r,"/reviews/").concat(t,"/edit"))},handleDelete:function(e){R(e),B(!0)}})]})]}),Object(S.jsx)(ue.a.Text,{className:"".concat(ve.a.Text," p-3"),children:i})]}),Object(S.jsxs)("div",{className:"text-center",children:[m?Object(S.jsx)("span",{onClick:Z,children:d?Object(S.jsx)("i",{className:"fa-solid fa-heart"}):Object(S.jsx)("i",{className:"far fa-heart"})}):Object(S.jsx)(je.a,{placement:"top",overlay:Object(S.jsx)(de.a,{children:"Log in to like review"}),children:Object(S.jsx)("i",{className:"far fa-heart"})})," ",p,Object(S.jsxs)("span",{children:[Object(S.jsx)("i",{className:"far fa-comments"}),j]})]}),m&&Object(S.jsx)(Le,{profile_id:m.profile_id,profileImage:s,review:t,setReviews:O,setComments:G,id:t}),E.length?E.map((function(e){return Object(S.jsx)(Ge,Object(k.a)(Object(k.a)({},e),{},{setReviews:O,setComments:G,reviewId:t}),e.id)})):null,Object(S.jsx)(Se,{show:y,handleClose:function(){return B(!1)},handleConfirm:q})]})})},He=a(24),Me=a.n(He),We=function(e){var t=e.id,a=e.title,n=e.cover_image,r=e.author;return Object(S.jsxs)("div",{className:Me.a.BookContainer,children:[Object(S.jsx)(ue.a,{className:Me.a.Card,children:Object(S.jsx)(_.Link,{to:"/books/".concat(t),className:Me.a.Link,children:Object(S.jsx)(ue.a.Img,{variant:"top",src:n,alt:a,className:Me.a.CardImage})})}),Object(S.jsx)("div",{className:Me.a.Title,children:a}),Object(S.jsxs)("div",{className:Me.a.Author,children:[" by ",r]})]})};var ze=function(){var e=Object(Z.useParams)().id,t=Object(n.useState)({}),a=Object(x.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)([]),o=Object(x.a)(s,2),i=o[0],j=o[1],d=M().setAlert,p=Object(n.useState)([]),O=Object(x.a)(p,2),m=O[0],v=O[1],f=P();Object(n.useEffect)((function(){var t=function(){var t=Object(u.a)(Object(l.a)().mark((function t(){var a,n,r,s,o,i;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([g.get("/api/books/".concat(e)),g.get("/api/reviews/?book=".concat(e))]);case 3:if(a=t.sent,n=Object(x.a)(a,2),r=n[0],s=n[1],c(r.data),j(s.data),!r.data.genre){t.next=15;break}return t.next=12,g.get("/api/books/?genre=".concat(r.data.genre));case 12:o=t.sent,i=o.data.filter((function(e){return e.id!==r.data.id})),v(i);case 15:t.next=19;break;case 17:t.prev=17,t.t0=t.catch(0);case 19:case"end":return t.stop()}}),t,null,[[0,17]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var h=function(){var t=Object(u.a)(Object(l.a)().mark((function t(){var a,n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r.saved_id){t.next=10;break}return t.next=4,w.post("/api/saved-books/",{book:e});case 4:a=t.sent,n=a.data,c((function(e){return Object(k.a)(Object(k.a)({},e),{},{saved_id:n.id})})),d("Book saved successfully","success"),t.next=14;break;case 10:return t.next=12,w.delete("/api/saved-books/".concat(r.saved_id,"/"));case 12:c((function(e){return Object(k.a)(Object(k.a)({},e),{},{saved_id:null})})),d("Book unsaved successfully","success");case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.error(t.t0),d("Failed to save book","error");case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(b.a,{className:Oe.a.Container,children:[Object(S.jsxs)(ie.a,{children:[Object(S.jsxs)(le.a,{children:[Object(S.jsx)(ue.a,{className:Oe.a.Image,children:Object(S.jsx)("img",{src:r.cover_image,alt:r.title})}),Object(S.jsxs)("div",{className:"m-2 ".concat(Oe.a.Count,"'"),children:[r.reviews_count," reviews"]}),f?Object(S.jsx)(_.Link,{to:"/books/".concat(e,"/reviews"),className:V.a.Button,children:"Review This Book"}):Object(S.jsx)(je.a,{placement:"top",overlay:Object(S.jsx)(de.a,{children:"Log in to review this book"}),children:Object(S.jsx)("span",{className:V.a.Button,disabled:!0,children:"Review This Book"})})]}),Object(S.jsxs)(le.a,{xs:12,md:8,className:"text-center",children:[Object(S.jsxs)("div",{className:Oe.a.BookInfo,children:[Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{className:Oe.a.Title,children:r.title}),Object(S.jsxs)("div",{className:"mb-2 text-muted",children:["by: ",r.author]})]}),Object(S.jsxs)("div",{children:[Object(S.jsx)(we,{value:r.average_rating}),Object(S.jsx)("span",{children:r.average_rating})]}),Object(S.jsx)("div",{children:f?Object(S.jsx)("span",{onClick:h,children:r.saved_id?Object(S.jsx)("i",{className:"fa-solid fa-bookmark"}):Object(S.jsx)("i",{className:"fa-regular fa-bookmark"})}):Object(S.jsx)(je.a,{placement:"top",overlay:Object(S.jsx)(de.a,{children:"Log in to save book"}),children:Object(S.jsx)("i",{className:"fa-regular fa-bookmark"})})})]}),Object(S.jsx)("div",{className:"".concat(Oe.a.description," p-3"),children:r.description})]})]}),Object(S.jsxs)(ie.a,{className:Oe.a.Row,children:[Object(S.jsx)("hr",{}),Object(S.jsx)("h5",{className:"text-center",children:"Related Books"}),Object(S.jsx)("hr",{}),m.length?Object(S.jsx)(be.a,{indicators:!1,children:m.map((function(e){return Object(S.jsx)(be.a.Item,{children:Object(S.jsx)(We,Object(k.a)({},e))},e.id)}))}):Object(S.jsx)("p",{className:"text-center",children:"No related books found"})]}),Object(S.jsxs)(ie.a,{className:Oe.a.Row,children:[Object(S.jsx)("hr",{}),Object(S.jsx)("h5",{className:"text-center",children:"Reviews"}),Object(S.jsx)("hr",{}),i.length>0?i.map((function(e){return Object(S.jsx)(Ue,Object(k.a)(Object(k.a)({},e),{},{setReviews:j}),e.id)})):Object(S.jsx)("p",{className:"text-center",children:"No reviews yet. Be the first to review this book!"})]})]})},Ze=a(119),qe=a.n(Ze),Je=Object(n.createContext)(),Xe=Object(n.createContext)(),Qe=function(){return Object(n.useContext)(Je)},Ve=function(){return Object(n.useContext)(Xe)},Ye=function(e){var t=e.children,a=Object(n.useState)({pageProfile:{results:[]},popularProfiles:{results:[]}}),r=Object(x.a)(a,2),c=r[0],s=r[1],o=P(),i=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.post("/api/followers/",{followed:t.id});case 3:a=e.sent,n=a.data,s((function(e){return Object(k.a)(Object(k.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return C(e,t,n.id)}))},popularProfiles:Object(k.a)(Object(k.a)({},e.popularProfiles),{},{results:e.popularProfiles.results.map((function(e){return C(e,t,n.id)}))})})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("/api/followers/".concat(t.following_id,"/"));case 3:s((function(e){return Object(k.a)(Object(k.a)({},e),{},{pageProfile:{results:e.pageProfile.results.map((function(e){return y(e,t)}))},popularProfiles:Object(k.a)(Object(k.a)({},e.popularProfiles),{},{results:e.popularProfiles.results.map((function(e){return y(e,t)}))})})})),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/profiles/?ordering=-reviews_count");case 3:t=e.sent,a=t.data,s((function(e){return Object(k.a)(Object(k.a)({},e),{},{popularProfiles:{results:a}})})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[o]),Object(S.jsx)(Je.Provider,{value:c,children:Object(S.jsx)(Xe.Provider,{value:{setProfileData:s,handleFollow:i,handleUnfollow:j},children:t})})},Ke=function(e){var t=e.profile,a=e.imageSize,n=void 0===a?55:a,r=t.id,c=t.following_id,s=t.image,o=t.owner,i=P(),l=(null===i||void 0===i?void 0:i.username)===o,u=Ve(),j=u.handleFollow,d=u.handleUnfollow;return Object(S.jsxs)("div",{className:"flex-column",children:[Object(S.jsx)("div",{children:Object(S.jsx)(_.Link,{className:"align-self-center",to:"/profiles/".concat(r),children:Object(S.jsx)(T,{src:s,height:n})})}),Object(S.jsx)("div",{className:"mx-2 ".concat(qe.a.WordBreak),children:Object(S.jsx)("strong",{children:o})}),Object(S.jsx)("div",{className:"ml-auto",children:i&&!l&&(c?Object(S.jsx)($.a,{className:V.a.Button,onClick:function(){return d(t)},children:"unfollow"}):Object(S.jsx)($.a,{className:V.a.Button,onClick:function(){return j(t)},children:"follow"}))})]})},$e=function(){var e=Qe().popularProfiles;return Object(S.jsxs)(b.a,{className:i.a.Content,children:[Object(S.jsx)("p",{children:"Most followed profiles"}),Object(S.jsx)("div",{className:"d-flex justify-content-around",children:e.results.slice(0,4).map((function(e){return Object(S.jsx)(Ke,{profile:e},e.id)}))})]})},et=function(e){e.message;var t=e.filter,a=void 0===t?"":t,r=Object(n.useState)([]),c=Object(x.a)(r,2),s=c[0],o=c[1],i=Object(_.useHistory)(),j=Object(n.useState)(!1),d=Object(x.a)(j,2),p=d[0],O=d[1],m=Object(n.useState)(null),v=Object(x.a)(m,2),f=v[0],h=v[1],w=M().setAlert,k=Object(n.useState)(""),N=Object(x.a)(k,2),C=N[0],y=N[1],B=Object(_.useLocation)().pathname,F=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=13;break}return e.prev=1,e.next=4,g.delete("/api/books/".concat(f,"/"));case 4:o((function(e){return e.filter((function(e){return e.id!==f}))})),i.push("/"),w("Book deleted successfully","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w("Failed to delete book","error");case 12:O(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/books/?search=".concat(C,"&").concat(a));case 3:t=e.sent,o(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),t=setTimeout((function(){e()}),1e3);return function(){clearTimeout(t)}}),[C,a,B]),Object(S.jsxs)(b.a,{className:Me.a.Container,children:[Object(S.jsx)("i",{className:"fas fa-search ".concat(Me.a.SearchIcon)}),Object(S.jsx)(Y.a,{className:Me.a.SearchBar,onSubmit:function(e){return e.preventDefault()},children:Object(S.jsx)(Y.a.Control,{value:C,onChange:function(e){return y(e.target.value)},type:"search",placeholder:"Search",className:"me-2","aria-label":"Search"})}),Object(S.jsx)($e,{}),Object(S.jsx)(ie.a,{xs:1,md:3,lg:4,children:s.map((function(e){return Object(S.jsxs)("div",{className:Me.a.BookContainer,children:[Object(S.jsx)(ue.a,{className:Me.a.Card,children:Object(S.jsx)(_.Link,{to:"books/".concat(e.id),className:Me.a.Link,children:Object(S.jsx)(ue.a.Img,{variant:"top",src:e.cover_image,alt:e.title,className:Me.a.CardImage})})}),Object(S.jsx)("div",{className:Me.a.Title,children:e.title}),Object(S.jsxs)("div",{className:Me.a.Author,children:[" by ",e.author]}),Object(S.jsx)("div",{className:Me.a.CardBody,children:e.is_owner&&Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{className:Me.a.Icons,children:[Object(S.jsx)("i",{onClick:function(){return t=e.id,void i.push("/books/".concat(t,"/edit"));var t},className:"fas fa-edit"}),Object(S.jsx)("i",{onClick:function(){return t=e.id,h(t),void O(!0);var t},className:"fas fa-trash"})]})})})]},e.id)}))}),Object(S.jsx)(Se,{show:p,handleClose:function(){return O(!1)},handleConfirm:F})]})};var tt=function(){var e,t,a,r,c,s=Object(n.useState)({}),o=Object(x.a)(s,2),j=o[0],d=o[1],b=Object(n.useState)({title:"",author:"",description:"",genre:"",coverImage:""}),p=Object(x.a)(b,2),O=p[0],m=p[1],v=O.title,f=O.author,h=O.description,w=O.genre,N=O.coverImage,C=Object(n.useRef)(null),y=Object(_.useHistory)(),B=Object(_.useParams)().id,F=M().setAlert;Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a,n,r,c,s,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/books/".concat(B,"/"));case 3:t=e.sent,a=t.data,n=a.title,r=a.author,c=a.description,s=a.genre,o=a.coverImage,a.is_owner?m({title:n,author:r,description:c,genre:s,coverImage:o}):y.push("/"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[y,B]);var I=function(e){m(Object(k.a)(Object(k.a)({},O),{},Object(q.a)({},e.target.name,e.target.value)))},A=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r,c;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("title",v),n.append("author",f),n.append("description",h),n.append("genre",w),null!==C&&void 0!==C&&null!==(a=C.current)&&void 0!==a&&a.files[0]&&n.append("cover_image",C.current.files[0]),e.prev=7,e.next=10,g.put("/api/books/".concat(B),n);case 10:y.push("/books/".concat(B)),F("Book updated successfully","success"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),401!==(null===(r=e.t0.response)||void 0===r?void 0:r.status)&&(d(null===(c=e.t0.response)||void 0===c?void 0:c.data),F("Failed to update book","error"));case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(Y.a,{className:se.a.Form,onSubmit:A,children:[Object(S.jsxs)(Y.a.Group,{controlId:"title",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Title"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"title",value:v,onChange:I})]}),null===j||void 0===j||null===(e=j.title)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"author",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Author"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"author",value:f,onChange:I})]}),null===j||void 0===j||null===(t=j.author)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"genre",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Genre"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,type:"text",name:"genre",value:w,onChange:I})]}),null===j||void 0===j||null===(a=j.genre)||void 0===a?void 0:a.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"description",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Description"}),Object(S.jsx)(Y.a.Control,{className:se.a.FormControl,as:"textarea",name:"description",rows:6,value:h,onChange:I})]}),null===j||void 0===j||null===(r=j.summary)||void 0===r?void 0:r.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{controlId:"cover_image",children:[Object(S.jsx)(Y.a.Label,{className:se.a.FormLabel,children:"Cover Image"}),Object(S.jsx)(Y.a.File,{name:"cover_image",accept:"image/*",onChange:function(e){e.target.files.length&&(URL.revokeObjectURL(N),m(Object(k.a)(Object(k.a)({},O),{},{coverImage:URL.createObjectURL(e.target.files[0])})))},ref:C})]}),null===j||void 0===j||null===(c=j.coverImage)||void 0===c?void 0:c.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsxs)("div",{className:V.a.CenterButton,children:[Object(S.jsx)($.a,{className:V.a.Danger,onClick:function(){return y.goBack()},children:"Cancel"}),Object(S.jsx)($.a,{className:V.a.Button,type:"Submit",children:"Save"})]})]})},at=a(32),nt=a.n(at);var rt=function(){var e,t,a=Object(n.useState)({}),r=Object(x.a)(a,2),c=r[0],s=r[1],o=Object(_.useHistory)(),j=Object(_.useParams)().id,d=M().setAlert,p=Object(n.useState)({review_text:"",rating:0}),O=Object(x.a)(p,2),m=O[0],v=O[1],f=m.review_text,h=m.rating,w=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("review_text",f),a.append("rating",h),a.append("book",j),e.prev=5,e.next=8,g.post("/api/reviews/",a);case 8:o.goBack(),d("Review created successfully","success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),401!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(s(null===(r=e.t0.response)||void 0===r?void 0:r.data),d("Failed to create review","error"));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(b.a,{className:nt.a.Container,children:[Object(S.jsx)("h2",{className:nt.a.Title,children:"Add Review"}),Object(S.jsxs)(Y.a,{className:nt.a.Form,onSubmit:w,children:[Object(S.jsxs)(Y.a.Group,{controlId:"review_text",className:nt.a.TextArea,children:[Object(S.jsx)(Y.a.Label,{className:nt.a.FormLabel,hidden:!0,children:"Review Text"}),Object(S.jsx)(Y.a.Control,{className:nt.a.FormControl,as:"textarea",name:"review_text",placeholder:"Write your review here...",rows:6,value:f,onChange:function(e){v(Object(k.a)(Object(k.a)({},m),{},Object(q.a)({},e.target.name,e.target.value)))}})]}),null===c||void 0===c||null===(e=c.review_text)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)(we,{value:h,onChange:function(e){v(Object(k.a)(Object(k.a)({},m),{},{rating:e}))}}),null===c||void 0===c||null===(t=c.rating)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)($.a,{className:V.a.Button,type:"submit",children:"Submit"})]})]})};var ct=function(){var e,t,a=Object(n.useState)({}),r=Object(x.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)({review_text:"",rating:""}),j=Object(x.a)(o,2),d=j[0],p=j[1],O=d.review_text,m=d.rating,v=Object(_.useHistory)(),f=Object(_.useParams)(),h=f.bookId,w=f.reviewId,N=M().setAlert;Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,a,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/api/reviews/".concat(w));case 3:t=e.sent,a=t.data,n=a.review_text,r=a.rating,a.is_owner?p({review_text:n,rating:r}):v.push("/"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[v,w]);var C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,r;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(a=new FormData).append("review_text",O),a.append("rating",m),a.append("book",h),e.prev=5,e.next=8,g.put("/api/reviews/".concat(w),a);case 8:v.goBack(),N("Review updated successfully","success"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),401!==(null===(n=e.t0.response)||void 0===n?void 0:n.status)&&(s(null===(r=e.t0.response)||void 0===r?void 0:r.data),N("Failed to update review","error"));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsxs)(b.a,{className:nt.a.Container,children:[Object(S.jsx)("h2",{className:nt.a.Title,children:"Add Review"}),Object(S.jsxs)(Y.a,{className:nt.a.Form,onSubmit:C,children:[Object(S.jsxs)(Y.a.Group,{controlId:"review_text",className:nt.a.TextArea,children:[Object(S.jsx)(Y.a.Label,{className:nt.a.FormLabel,hidden:!0,children:"Review Text"}),Object(S.jsx)(Y.a.Control,{className:nt.a.FormControl,as:"textarea",name:"review_text",placeholder:"Write your review here...",rows:6,value:O,onChange:function(e){p(Object(k.a)(Object(k.a)({},d),{},Object(q.a)({},e.target.name,e.target.value)))}})]}),null===c||void 0===c||null===(e=c.review_text)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)(we,{value:m,onChange:function(e){p(Object(k.a)(Object(k.a)({},d),{},{rating:e}))}}),null===c||void 0===c||null===(t=c.rating)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{className:i.a.Alert,variant:"warning",children:e},t)})),Object(S.jsx)($.a,{className:V.a.Button,type:"submit",children:"Submit"})]})]})},st=a(101),ot=a.n(st),it=a(120);var lt=function(){var e=P(),t=Object(_.useParams)().id,a=Ve(),r=a.setProfileData,c=a.handleFollow,s=a.handleUnfollow,o=Qe().pageProfile,i=Object(x.a)(o.results,1)[0],j=(null===e||void 0===e?void 0:e.username)===(null===i||void 0===i?void 0:i.owner),d=Object(n.useState)([]),p=Object(x.a)(d,2),O=p[0],m=p[1],v=Object(n.useState)([]),f=Object(x.a)(v,2),h=f[0],w=f[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var a,n,c,s,o;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([g.get("/api/profiles/".concat(t,"/")),g.get("/api/reviews/?owner__profile=".concat(t)),g.get("/api/books/?owner__profile=".concat(t))]);case 3:a=e.sent,n=Object(x.a)(a,3),c=n[0].data,s=n[1],o=n[2],r((function(e){return Object(k.a)(Object(k.a)({},e),{},{pageProfile:{results:[c]}})})),m(s.data),w(o.data),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,r]);var N=Object(S.jsxs)(S.Fragment,{children:[(null===i||void 0===i?void 0:i.is_owner)&&Object(S.jsx)(Be,{id:null===i||void 0===i?void 0:i.id}),Object(S.jsxs)(ie.a,{className:"px-3 text-center",children:[Object(S.jsx)(le.a,{lg:3,className:"text-lg-left",children:Object(S.jsx)(it.a,{className:ot.a.ProfileImage,roundedCircle:!0,src:null===i||void 0===i?void 0:i.image})}),Object(S.jsxs)(le.a,{lg:6,children:[Object(S.jsx)("h3",{className:"m-2",children:null===i||void 0===i?void 0:i.owner}),Object(S.jsxs)(ie.a,{className:"justify-content-center",children:[Object(S.jsxs)(le.a,{xs:3,className:"my-2",children:[Object(S.jsx)("div",{children:null===i||void 0===i?void 0:i.books_count}),Object(S.jsx)("div",{children:"Books"})]}),Object(S.jsxs)(le.a,{xs:3,className:"my-2",children:[Object(S.jsx)("div",{children:null===i||void 0===i?void 0:i.reviews_count}),Object(S.jsx)("div",{children:"Reviews"})]}),Object(S.jsxs)(le.a,{xs:3,className:"my-2",children:[Object(S.jsx)("div",{children:null===i||void 0===i?void 0:i.followers_count}),Object(S.jsx)("div",{children:"Followers"})]}),Object(S.jsxs)(le.a,{xs:3,className:"my-2",children:[Object(S.jsx)("div",{children:null===i||void 0===i?void 0:i.following_count}),Object(S.jsx)("div",{children:"Following"})]})]})]}),Object(S.jsx)(le.a,{lg:3,className:"text-lg-right mt-2",children:e&&!j&&(null!==i&&void 0!==i&&i.following_id?Object(S.jsx)($.a,{className:V.a.Button,onClick:function(){return s(i)},children:"unfollow"}):Object(S.jsx)($.a,{className:V.a.Button,onClick:function(){return c(i)},children:"follow"}))}),(null===i||void 0===i?void 0:i.biography)&&Object(S.jsx)(le.a,{className:"p-3",children:i.biography})]})]}),C=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("hr",{}),Object(S.jsxs)("p",{className:"text-center",children:[null===i||void 0===i?void 0:i.owner,"'s reviews"]}),Object(S.jsx)("hr",{}),O.length?O.map((function(e){return Object(S.jsx)(Ue,Object(k.a)(Object(k.a)({},e),{},{setReviews:m}),e.id)})):Object(S.jsx)("p",{className:"text-center",children:Object(S.jsxs)("strong",{children:["No reviews found for ",null===i||void 0===i?void 0:i.owner,"."]})})]}),y=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("hr",{}),Object(S.jsxs)("p",{className:"text-center",children:[null===i||void 0===i?void 0:i.owner,"'s books"]}),Object(S.jsx)("hr",{}),h.length?Object(S.jsx)(be.a,{indicators:!1,children:h.map((function(e){return Object(S.jsx)(be.a.Item,{children:Object(S.jsx)(We,Object(k.a)({},e))},e.id)}))}):Object(S.jsx)("p",{className:"text-center",children:Object(S.jsxs)("strong",{children:["No books found for ",null===i||void 0===i?void 0:i.owner,"."]})})]});return Object(S.jsxs)(b.a,{className:ot.a.Container,children:[Object(S.jsx)($e,{}),Object(S.jsxs)(ie.a,{children:[N,y,C]})]})},ut=function(){var e,t=Object(n.useState)(""),a=Object(x.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)({}),o=Object(x.a)(s,2),j=o[0],d=o[1],p=Object(_.useHistory)(),O=Object(_.useParams)().id,m=M().setAlert,v=P(),f=R();Object(n.useEffect)((function(){var e;(null===v||void 0===v||null===(e=v.profile_id)||void 0===e?void 0:e.toString())===O?c(v.username):p.push("/")}),[v,p,O]);var h=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w.put("/api/dj-rest-auth/user/",{username:r});case 4:f((function(e){return Object(k.a)(Object(k.a)({},e),{},{username:r})})),p.goBack(),m("Username updated successfully","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),d(null===(a=e.t0.response)||void 0===a?void 0:a.data),m("Failed to update username","error");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(ie.a,{children:Object(S.jsx)(le.a,{className:"py-2 mx-auto text-center",md:6,children:Object(S.jsx)(b.a,{className:i.a.Content,children:Object(S.jsxs)(Y.a,{onSubmit:h,className:"my-2",children:[Object(S.jsxs)(Y.a.Group,{children:[Object(S.jsx)(Y.a.Label,{children:"Change username"}),Object(S.jsx)(Y.a.Control,{placeholder:"username",type:"text",value:r,onChange:function(e){return c(e.target.value)}})]}),null===j||void 0===j||null===(e=j.username)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{variant:"warning",children:e},t)})),Object(S.jsx)($.a,{className:"".concat(V.a.Button," ").concat(V.a.Blue),onClick:function(){return p.goBack()},children:"cancel"}),Object(S.jsx)($.a,{className:"".concat(V.a.Button," ").concat(V.a.Blue),type:"submit",children:"save"})]})})})})},jt=function(){var e,t,a=Object(_.useHistory)(),r=Object(_.useParams)().id,c=P(),s=M().setAlert,o=Object(n.useState)({new_password1:"",new_password2:""}),j=Object(x.a)(o,2),d=j[0],p=j[1],O=d.new_password1,m=d.new_password2,v=Object(n.useState)({}),f=Object(x.a)(v,2),h=f[0],g=f[1],N=function(e){p(Object(k.a)(Object(k.a)({},d),{},Object(q.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){var e;(null===c||void 0===c||null===(e=c.profile_id)||void 0===e?void 0:e.toString())!==r&&a.push("/")}),[c,a,r]);var C=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var n;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w.post("/api/dj-rest-auth/password/change/",d);case 4:a.goBack(),s("Password updated successfully","success"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),g(null===(n=e.t0.response)||void 0===n?void 0:n.data),s("Failed to update password","error");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(S.jsx)(ie.a,{children:Object(S.jsx)(le.a,{className:"py-2 mx-auto text-center",md:6,children:Object(S.jsx)(b.a,{className:i.a.Content,children:Object(S.jsxs)(Y.a,{onSubmit:C,children:[Object(S.jsxs)(Y.a.Group,{children:[Object(S.jsx)(Y.a.Label,{children:"New password"}),Object(S.jsx)(Y.a.Control,{placeholder:"new password",type:"password",value:O,onChange:N,name:"new_password1"})]}),null===h||void 0===h||null===(e=h.new_password1)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{variant:"warning",children:e},t)})),Object(S.jsxs)(Y.a.Group,{children:[Object(S.jsx)(Y.a.Label,{children:"Confirm password"}),Object(S.jsx)(Y.a.Control,{placeholder:"confirm new password",type:"password",value:m,onChange:N,name:"new_password2"})]}),null===h||void 0===h||null===(t=h.new_password2)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{variant:"warning",children:e},t)})),Object(S.jsx)($.a,{className:"".concat(V.a.Button," ").concat(V.a.Blue),onClick:function(){return a.goBack()},children:"cancel"}),Object(S.jsx)($.a,{type:"submit",className:"".concat(V.a.Button," ").concat(V.a.Blue),children:"save"})]})})})})},dt=function(){var e,t,a=P(),r=R(),c=Object(_.useParams)().id,s=Object(_.useHistory)(),o=Object(n.useRef)(),j=M().setAlert,d=Object(n.useState)({name:"",biography:"",image:""}),p=Object(x.a)(d,2),O=p[0],m=p[1],v=O.name,f=O.biography,h=O.image,w=Object(n.useState)({}),N=Object(x.a)(w,2),C=N[0],y=N[1];Object(n.useEffect)((function(){var e=function(){var e=Object(u.a)(Object(l.a)().mark((function e(){var t,n,r,o,i,u;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===a||void 0===a||null===(t=a.profile_id)||void 0===t?void 0:t.toString())!==c){e.next=15;break}return e.prev=1,e.next=4,g.get("/api/profiles/".concat(c,"/"));case 4:n=e.sent,r=n.data,o=r.name,i=r.biography,u=r.image,m({name:o,biography:i,image:u}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s.push("/");case 13:e.next=16;break;case 15:s.push("/");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[a,s,c]);var B=function(){var e=Object(u.a)(Object(l.a)().mark((function e(t){var a,n,i,u,d,b;return Object(l.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("name",v),n.append("biography",f),null!==o&&void 0!==o&&null!==(a=o.current)&&void 0!==a&&a.files[0]&&n.append("image",null===o||void 0===o||null===(i=o.current)||void 0===i?void 0:i.files[0]),e.prev=5,e.next=8,g.put("/api/profiles/".concat(c,"/"),n);case 8:u=e.sent,d=u.data,r((function(e){return Object(k.a)(Object(k.a)({},e),{},{profile_image:d.image})})),s.goBack(),j("Profile updated successfully","success"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(5),y(null===(b=e.t0.response)||void 0===b?void 0:b.data),j("Failed to update profile","error");case 19:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}(),F=Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)(Y.a.Group,{children:[Object(S.jsx)(Y.a.Label,{children:"Bio"}),Object(S.jsx)(Y.a.Control,{as:"textarea",value:f,onChange:function(e){m(Object(k.a)(Object(k.a)({},O),{},Object(q.a)({},e.target.name,e.target.value)))},name:"biography",rows:7})]}),null===C||void 0===C||null===(e=C.content)||void 0===e?void 0:e.map((function(e,t){return Object(S.jsx)(K.a,{variant:"warning",children:e},t)})),Object(S.jsx)($.a,{className:"".concat(V.a.Button," ").concat(V.a.Blue),onClick:function(){return s.goBack()},children:"cancel"}),Object(S.jsx)($.a,{className:"".concat(V.a.Button," ").concat(V.a.Blue),type:"submit",children:"save"})]});return Object(S.jsx)(Y.a,{onSubmit:B,children:Object(S.jsxs)(ie.a,{children:[Object(S.jsx)(le.a,{className:"py-2 p-0 p-md-2 text-center",md:7,lg:6,children:Object(S.jsxs)(b.a,{className:i.a.Content,children:[Object(S.jsxs)(Y.a.Group,{children:[h&&Object(S.jsx)("figure",{children:Object(S.jsx)(it.a,{src:h,fluid:!0})}),null===C||void 0===C||null===(t=C.image)||void 0===t?void 0:t.map((function(e,t){return Object(S.jsx)(K.a,{variant:"warning",children:e},t)})),Object(S.jsx)("div",{}),Object(S.jsx)(Y.a.File,{id:"image-upload",ref:o,accept:"image/*",onChange:function(e){e.target.files.length&&m(Object(k.a)(Object(k.a)({},O),{},{image:URL.createObjectURL(e.target.files[0])}))}})]}),Object(S.jsx)("div",{className:"d-md-none",children:F})]})}),Object(S.jsx)(le.a,{md:5,lg:6,className:"d-none d-md-block p-0 p-md-2 text-center",children:Object(S.jsx)(b.a,{className:i.a.Content,children:F})})]})})},bt=a(93),pt=a.n(bt),Ot=function(){return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)("div",{className:pt.a.Container,children:Object(S.jsxs)("div",{className:pt.a.Content,children:[Object(S.jsx)("div",{className:pt.a.Emoji,children:"\ud83d\ude22"}),Object(S.jsx)("h1",{children:"404 Error Page"}),Object(S.jsx)("p",{children:"The page you are looking for does not exist"})]})})})};var mt=function(){var e=P(),t=(null===e||void 0===e?void 0:e.profile_id)||"";return Object(S.jsxs)("div",{className:i.a.App,children:[Object(S.jsx)(z,{}),Object(S.jsxs)(b.a,{className:i.a.Main,children:[Object(S.jsx)(re,{}),Object(S.jsxs)(Z.Switch,{children:[Object(S.jsx)(Z.Route,{exact:!0,path:"/",render:function(){return Object(S.jsx)(et,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/mybooks",render:function(){return Object(S.jsx)(et,{message:"No books saved",filter:"saved__owner__profile=".concat(t)})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/signin",render:function(){return Object(S.jsx)(ae,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/signup",render:function(){return Object(S.jsx)(te,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/books/create",render:function(){return Object(S.jsx)(oe,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/books/:id",render:function(){return Object(S.jsx)(ze,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/books/:id/edit",render:function(){return Object(S.jsx)(tt,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/books/:id/reviews",render:function(){return Object(S.jsx)(rt,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/books/:bookId/reviews/:reviewId/edit",render:function(){return Object(S.jsx)(ct,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/profiles/:id",render:function(){return Object(S.jsx)(lt,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/profiles/:id/edit/username",render:function(){return Object(S.jsx)(ut,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/profiles/:id/edit/password",render:function(){return Object(S.jsx)(jt,{})}}),Object(S.jsx)(Z.Route,{exact:!0,path:"/profiles/:id/edit",render:function(){return Object(S.jsx)(dt,{})}}),Object(S.jsx)(Z.Route,{render:function(){return Object(S.jsx)(Ot,{})}})]})]})]})},vt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,183)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(S.jsx)(v.a,{children:Object(S.jsx)(L,{children:Object(S.jsx)(Ye,{children:Object(S.jsx)(U,{children:Object(S.jsx)(mt,{})})})})}),document.getElementById("root")),vt()},23:function(e,t,a){e.exports={Form:"BookCreateEditForm_Form__317oo",FormLabel:"BookCreateEditForm_FormLabel__31yum",FormControl:"BookCreateEditForm_FormControl__6q4yV"}},24:function(e,t,a){e.exports={BookContainer:"Book_BookContainer__1QwOm",Card:"Book_Card__khNrs",CardImage:"Book_CardImage__1Iw9p",Title:"Book_Title__3_EO9",CardBody:"Book_CardBody__2anIW",Link:"Book_Link__2Suzi",Icons:"Book_Icons__3zpJB",Author:"Book_Author__324ac",SearchBar:"Book_SearchBar__3Bv8-",SearchIcon:"Book_SearchIcon__sJ1h9"}},32:function(e,t,a){e.exports={Container:"ReviewCreateEditForm_Container__2L1zP",Title:"ReviewCreateEditForm_Title__2W9oR",Form:"ReviewCreateEditForm_Form__2pDLW",TextArea:"ReviewCreateEditForm_TextArea__2RY8z",FormControl:"ReviewCreateEditForm_FormControl__BgeXk"}},36:function(e,t,a){e.exports={Input:"SignInUpForm_Input__3xaLZ",Container:"SignInUpForm_Container__2cuBp",Form:"SignInUpForm_Form__2ZPJ4",Text:"SignInUpForm_Text__-5VQs"}},48:function(e,t,a){e.exports={Container:"BookPage_Container__2sPwj",BookInfo:"BookPage_BookInfo__3WSl-",ImgCol:"BookPage_ImgCol__3E4OO",Image:"BookPage_Image__2IVtk",Title:"BookPage_Title__1PBok",Author:"BookPage_Author__1vzP_",description:"BookPage_description__2kNdG",Row:"BookPage_Row__1yLvE",Count:"BookPage_Count__2_xd3"}},54:function(e,t,a){e.exports={NavBar:"NavBar_NavBar__1amC6",Active:"NavBar_Active__3PBZb"}},61:function(e,t,a){e.exports={Form:"CommentCreateEditForm_Form__1Qeyz",Button:"CommentCreateEditForm_Button__sGFSX"}},77:function(e,t,a){e.exports={Media:"Review_Media___KvNN",Text:"Review_Text__U0uEx",Card:"Review_Card__qq7XX",RatingContainer:"Review_RatingContainer__3BUvF"}},78:function(e,t,a){e.exports={Dropdown:"MoreDropdown_Dropdown__3DiV_",DropdownItem:"MoreDropdown_DropdownItem__2E4UM",Absolute:"MoreDropdown_Absolute__2RO70"}},93:function(e,t,a){e.exports={Container:"ErrorPages_Container__3qaBZ",Content:"ErrorPages_Content__3H9Lu",Emoji:"ErrorPages_Emoji__FjfLT"}},99:function(e,t,a){e.exports={StarRating:"StarRating_StarRating__37A4j",Star:"StarRating_Star__2E3LE"}}},[[158,1,2]]]);
//# sourceMappingURL=main.f8627793.chunk.js.map